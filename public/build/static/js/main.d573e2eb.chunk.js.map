{"version":3,"sources":["Hooks/User/index.jsx","Hooks/NewRoom/index.jsx","Graphql/Queries/index.jsx","Graphql/Mutation/index.jsx","Components/Librarian/Questions/index.jsx","Graphql/Subscription/index.jsx","Components/Librarian/NewRoom/index.jsx","Components/Librarian/index.jsx","Components/ReaderProfile/NewQuestion/index.jsx","Components/ReaderProfile/ReaderRooms/index.jsx","Components/ReaderProfile/OtherQuestion/index.jsx","Components/ReaderProfile/ReaderHome/index.jsx","Components/FileUpload/index.jsx","Components/ImageUpload/index.jsx","Components/CreateBook/Form.jsx","Components/CreateBook/index.jsx","images/defaultbook.jpg","Components/BooksList/index.jsx","Components/Article/index.jsx","App.jsx","Components/Login/Login.jsx","Components/Login/index.jsx","Components/ReaderProfile/ReaderNav/index.jsx","Components/Navbar/index.jsx","index.jsx"],"names":["UserContext","createContext","UserProvider","children","useState","token","localStorage","getItem","userType","id","user","setUser","Provider","value","Consumer","useUser","setternOnly","useContext","RoomContext","RoomProvider","room","setRoom","useRoom","UNREADED_ANSWERS","gql","LIBRARIES","THEMES","READER_ROOMS","TEXT_ROOM","OTHER_QUESTION","READER_LIB_DATA","LIBRARIAN","QUESTIONS","IS_PUBLIC","BOOKS","MOST_DOWNLOADED","LOGIN_READER","READER_CREATE_QUESTION","ROOM_QUESTION","CREATE_LIBRARIAN","CREATE_READER","CREATE_ROOM","CREATE_ANSWER","UPDATE_STATUS_QUESTION","CREATE_RECORD","DOWNLOADED","useStyles","makeStyles","theme","root","width","backgroundColor","palette","background","paper","pagination_button","display","justifyContent","padding","pagination_page","textAlign","FolderList","librarian","classes","page","setPage","useQuery","variables","limit","data","loading","error","useMutation","createRoom","roomdata","useEffect","Container","maxWidth","Paper","unreaded","map","element","index","List","className","ListItem","onClick","questionId","librarianId","parseInt","button","divider","ListItemAvatar","Avatar","ListItemText","primary","questionText","secondary","createdAt","ListItemSecondaryAction","IconButton","edge","aria-label","ButtonGroup","disableElevation","variant","color","Button","disabled","Typography","p","length","ROOM_QUESTION_SUBSCRIBE","SUBSCRIBE_STATUS","SUBSCRIBE_DOWNLOAD","media","height","paddingTop","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","red","text_field","question_box","fontSize","RecipeReviewCard","React","expanded","setExpanded","text","blured","setText","createAnswer","UpdataQuestionStatus","statusQuestion","subscribeStatus","useSubscription","question_id","isPublic","time","moment","format","textBlured","e","target","console","log","username","Card","CardHeader","slice","title","subheader","question_created_at","CardContent","component","question_text","Box","flexDirection","alignItems","marginTop","borderRadius","minWidth","answer_text","created_at","TextField","label","helperText","onBlur","style","margin","placeholder","fullWidth","InputLabelProps","shrink","onChange","type","endIcon","answerText","CardActions","disableSpacing","undefined","isPublicSubscript","clsx","aria-expanded","Collapse","in","timeout","unmountOnExit","paragraph","TabPanel","props","other","role","hidden","aria-labelledby","a11yProps","flexGrow","ScrollableTabsButtonForce","setValue","AppBar","position","Tabs","event","newValue","scrollButtons","indicatorColor","textColor","Tab","icon","flexWrap","minHeight","send_message_parent","bottom_send_question","bottom","left","boxSizing","formControl","spacing","backdrop","zIndex","drawer","SimplePaper","lib","setLib","setTheme","lib_loading","lib_data","theme_loading","theme_data","createQuestion","question_data","Backdrop","open","CircularProgress","elevation","Grid","container","item","FormControl","InputLabel","Select","labelId","MenuItem","themes","themeId","themeName","libraryId","libraryName","xs","readerId","library","form_roomQuestion","SubscribeQuestion","readerRooms","all","setAll","newRoomQuestion","roomId","roomData","room_id","room_loading","room_data","first_name","last_name","rooms","answers","question","one","notAnsweredRoom","questions_list","ImgMediaCard","libUnread","CardActionArea","CardMedia","alt","image","gutterBottom","setIndex","ind","drag_drop","cursor","MyDropzone","sendDataToParent","checked","setChecked","onDrop","useCallback","acceptedFiles","a","formData","FormData","append","axios","method","url","headers","_boundary","then","file_id","catch","useDropzone","getRootProps","getInputProps","isDragActive","name","ListItemIcon","Checkbox","tabIndex","disableRipple","sendImageId","image_id","App","fileId","setFileid","imageId","setImage","setOpen","createRecord","useRef","creator","subject","description","source","relation","coverage","publisher","contributor","rights","date","identifier","language","audience","provenance","right_holders","instructional_method","accrual_method","accrual_periodicity","accrual_policy","handleClose","reason","align","noValidate","autoComplete","justify","required","ref","bookTitle","current","childNodes","tagName","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","action","Fragment","href","path","size","book_form_paper","SimpleContainer","CssBaseline","marginRight","details","content","flex","cover","objectFit","controls","paddingLeft","paddingBottom","playIcon","modal","boxShadow","shadows","close_button","right","top","MediaControlCard","downloaded","downloadCount","handleOpen","records","subscribeDownload","count","countOfDownloads","download","filename","Modal","aria-describedby","closeAfterTransition","BackdropComponent","BackdropProps","Fade","Cover","AutoPlaySwipeableViews","autoPlay","SwipeableViews","tutorialSteps","imgPath","header","default","img","overflow","card","cardDetails","cardMedia","mainFeaturedPost","grey","common","white","marginBottom","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","overlay","mainFeaturedPostContent","breakpoints","up","paddingRight","useTheme","activeStep","setActiveStep","maxSteps","src","md","mostDownloaded","to","Hidden","xsDown","imageTitle","square","axis","direction","onChangeIndex","step","enableMouseEvents","Math","abs","MobileStepper","steps","nextButton","prevActiveStep","backButton","exact","Article","Copyright","Link","Date","getFullYear","main","form","SignUp","logIn","setLogin","usernameLogin","password","passwordLogin","email","firstName","lastName","textmask","numberformat","values","setValues","setRole","handleChange","addLibrarian","librarian_data","create_lib_error","addReader","reader_data","create_reader_error","logInReader","reader_login_data","err","setError","loginReader","status","setItem","user_status","reader_id","librarian_id","onSubmit","preventDefault","sm","FormLabel","RadioGroup","FormControlLabel","control","Radio","submit","mt","autoFocus","FormHelperText","readerRoles","roleId","roleName","htmlFor","Input","readerEmail","readerRole","readerPhone","librarianPhone","ScrollDialog","scrollType","scroll","setScroll","descriptionElementRef","descriptionElement","focus","Dialog","grow","sectionDesktop","sectionMobile","PrimarySearchAppBar","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","currentTarget","handleMobileMenuClose","handleMenuClose","logOut","window","removeItem","location","reload","menuId","renderMenu","keepMounted","transformOrigin","mobileMenuId","renderMobileMenu","Badge","badgeContent","readerUnread","aria-controls","aria-haspopup","Toolbar","drawerWidth","appBar","easing","sharp","leavingScreen","appBarShift","easeOut","enteringScreen","menuButton","hide","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","contentShift","list_link","textDecoration","ReaderElement","reader","LibrarianElement","librarians","replace","PersistentDrawerLeft","noWrap","Drawer","anchor","Divider","httpLink","HttpLink","uri","wsLink","WebSocketLink","options","reconnect","splitLink","split","query","definition","getMainDefinition","kind","operation","authLink","setContext","_","usertype","client","ApolloClient","link","concat","cache","InMemoryCache","ReactDOM","render","ApolloProvider","document","getElementById"],"mappings":"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","file":"static/js/main.d573e2eb.chunk.js","sourcesContent":["import React from 'react'\r\nimport { useContext,useState,createContext } from 'react'\r\nconst UserContext = createContext(null)\r\n\r\nconst UserProvider = ({children})=>{\r\n    const [user, setUser]= useState( {\r\n        token:localStorage.getItem('token')||'',\r\n        userType:localStorage.getItem('usertype')||'',\r\n        id:localStorage.getItem('readerId')||localStorage.getItem('librarianId')||''})\r\n        \r\n    return(\r\n         <UserContext.Provider value= {{user, setUser}}>\r\n             <UserContext.Consumer>\r\n                 {()=>children}\r\n             </UserContext.Consumer>\r\n          </UserContext.Provider>\r\n    )\r\n }\r\n const useUser = (setternOnly)=>{\r\n     const {user, setUser} = useContext(UserContext)\r\n     return setternOnly ? [setUser] : [user, setUser]\r\n }\r\n export{\r\n     useUser,\r\n     UserProvider\r\n }","import React from 'react'\r\nimport { useContext,useState,createContext } from 'react'\r\nconst RoomContext = createContext(null)\r\n\r\nconst RoomProvider = ({children})=>{\r\n    const [room, setRoom]= useState({})\r\n        \r\n    return(\r\n         <RoomContext.Provider value= {{room, setRoom}}>\r\n             <RoomContext.Consumer>\r\n                 {()=>children}\r\n             </RoomContext.Consumer>\r\n          </RoomContext.Provider>\r\n    )\r\n }\r\n const useRoom = (setternOnly)=>{\r\n     const {room, setRoom} = useContext(RoomContext)\r\n     return setternOnly ? [setRoom] : [room, setRoom]\r\n }\r\n export{\r\n     useRoom,\r\n     RoomProvider\r\n }","\r\nimport { gql} from '@apollo/client';\r\n\r\nexport const COURSES = gql`\r\n    {\r\n        courses {\r\n            courseId\r\n            courseType\r\n            courseStatus\r\n            courseName\r\n            file\r\n          }\r\n    }\r\n`\r\nexport const UNREADED_ANSWERS = gql`\r\n    query ($readerId:Int){\r\n        readerUnread(readerId:$readerId)\r\n    }\r\n`\r\nexport const LIBRARIES = gql`\r\n   query{\r\n        lib{\r\n        libraryId\r\n        libraryName\r\n        }\r\n    }\r\n`\r\nexport const THEMES = gql`\r\n   query{\r\n        themes{\r\n            themeId\r\n            themeName\r\n        }\r\n    }\r\n`\r\nexport const READER_ROOMS = gql`\r\n  query($readerId:Int){\r\n        readerRooms(readerId:$readerId)\r\n    }\r\n`\r\nexport const TEXT_ROOM = gql`\r\n    query ($roomId:Int){\r\n        rooms(roomId: $roomId) {\r\n            roomId\r\n            answers {\r\n            question{\r\n                questionId\r\n                theme\r\n                library\r\n                questionText\r\n                createdAt\r\n            }\r\n            answerText\r\n            createdAt\r\n            }\r\n        \r\n        }\r\n        notAnsweredRoom(roomId: $roomId) {\r\n            questionId\r\n            questionText\r\n            questionStatus\r\n            createdAt\r\n        }\r\n    }\r\n`\r\nexport const NOT_ANSWERED_ROOM = gql`\r\n    query($roomId: Int) {\r\n        notAnsweredRoom(roomId: $roomId) {\r\n            questionId\r\n            questionText\r\n            questionStatus\r\n            createdAt\r\n        }\r\n    }\r\n`\r\nexport const NOT_ANSWERED_QUESTION= gql`\r\n    query($readerId:Int){\r\n        notAnsweredQuestion(readerId:$readerId){\r\n            questionId\r\n            questionText\r\n            questionStatus\r\n            createdAt\r\n        }\r\n    }\r\n`\r\nexport const OTHER_QUESTION = gql`\r\n    query($readerId: Int) {\r\n        libUnread(readerId: $readerId) {\r\n            questionId\r\n            theme\r\n            library\r\n            questionText\r\n            createdAt\r\n        }\r\n    }\r\n`\r\nexport const READER_LIB_DATA = gql`\r\n    query{\r\n        lib{\r\n            libraryId\r\n            libraryName\r\n        }\r\n        readerRoles{\r\n            roleId\r\n            roleName\r\n        }\r\n    }\r\n`\r\nexport const LIBRARIAN = gql`\r\n   query($librarianId:Int){\r\n    librarians(librarianId:$librarianId){\r\n        librarianId\r\n        username\r\n        firstName\r\n        lastName\r\n        librarianPhone\r\n        library\r\n        }\r\n    }\r\n`\r\nexport const QUESTIONS = gql`\r\n   query($page:Int, $limit:Int){\r\n        unreaded(page:$page, limit:$limit){\r\n            questionId\r\n            questionText\r\n            readerId\r\n            theme\r\n            library\r\n            questionStatus\r\n            createdAt\r\n        }\r\n    }\r\n`\r\nexport const IS_PUBLIC = gql`\r\n    query IsPublic ($questionId:Int!){\r\n        isPublic(questionId:$questionId)\r\n    }\r\n`\r\nexport const BOOKS = gql`\r\n    query($page: Int, $limit: Int) {\r\n        records(page: $page, limit: $limit) {\r\n            fieldId\r\n            title\r\n            fileId {\r\n                fileId\r\n                path\r\n                filename\r\n            }\r\n            imageId {\r\n                imageId\r\n                path\r\n                filename\r\n            }\r\n            creator\r\n            subject\r\n            description\r\n            type\r\n            source\r\n            relation\r\n            coverage\r\n            publisher\r\n            contributor\r\n            rights\r\n            date\r\n            format\r\n            identifier\r\n            language\r\n            audience\r\n            provenance\r\n            right_holders\r\n            instructional_method\r\n            accrual_method\r\n            accrual_periodicity\r\n            accrual_policy\r\n            countOfDownloads\r\n        }\r\n    }\r\n`\r\nexport const MOST_DOWNLOADED = gql`\r\n    {\r\n        mostDownloaded {\r\n            fieldId\r\n            title\r\n            fileId {\r\n                fileId\r\n                path\r\n                filename\r\n            }\r\n            imageId {\r\n                imageId\r\n                path\r\n                filename\r\n            }\r\n            creator\r\n            subject\r\n            description\r\n            type\r\n            source\r\n            relation\r\n            coverage\r\n            publisher\r\n            contributor\r\n            rights\r\n            date\r\n            format\r\n            identifier\r\n            language\r\n            audience\r\n            provenance\r\n            right_holders\r\n            instructional_method\r\n            accrual_method\r\n            accrual_periodicity\r\n            accrual_policy\r\n            countOfDownloads\r\n        }\r\n    }\r\n`","\r\nimport { gql} from '@apollo/client';\r\n\r\nexport const ADD_READER = gql`\r\n    mutation addReader(\r\n        $username: String!\r\n        $password: String!\r\n        $email: String\r\n        $phone: String\r\n        $readerRole: Int\r\n    ) {\r\n        addReader(\r\n            username: $username\r\n            password: $password\r\n            readerEmail: $email\r\n            readerPhone: $phone\r\n            readerRole: $readerRole\r\n        )\r\n    }\r\n`\r\nexport const LOGIN_READER = gql`\r\n    mutation loginReader(\r\n        $username: String!,\r\n        $password: String!\r\n    ) {\r\n        loginReader(\r\n            username: $username,\r\n            password: $password\r\n        )\r\n    }\r\n`\r\nexport const READER_CREATE_QUESTION = gql`\r\n    mutation createQuestion(\r\n    $readerId: Int\r\n    $questionText: String\r\n    $theme: Int\r\n    $library: Int\r\n    ) {\r\n    createQuestion(\r\n        readerId: $readerId\r\n        questionText: $questionText\r\n        theme: $theme\r\n        library: $library\r\n    ) {\r\n        questionId\r\n        questionText\r\n        theme\r\n        library\r\n        createdAt\r\n    }\r\n    }\r\n\r\n`\r\nexport const ROOM_QUESTION = gql`\r\n    mutation roomQuestion($roomId:Int $questionText:String){\r\n    roomQuestion(roomId:$roomId, questionText:$questionText)\r\n    }\r\n\r\n`\r\nexport const CREATE_LIBRARIAN = gql`\r\n    mutation AddLibrarian(\r\n        $username: String\r\n        $password: String\r\n        $firstName: String\r\n        $lastName: String\r\n        $librarianPhone: String\r\n        $library: Int\r\n        ) {\r\n        addLibrarian(\r\n            username: $username\r\n            password: $password\r\n            firstName: $firstName\r\n            lastName: $lastName\r\n            librarianPhone: $librarianPhone\r\n            library: $library\r\n        ) \r\n    }\r\n`\r\n\r\nexport const CREATE_READER = gql`\r\n    mutation AddReader(\r\n        $username: String\r\n        $password: String\r\n        $readerEmail: String\r\n        $readerRole: Int\r\n        $readerPhone:String\r\n        ) {\r\n        addReader(\r\n            username: $username\r\n            password: $password\r\n            readerEmail: $readerEmail\r\n            readerRole: $readerRole\r\n            readerPhone:$readerPhone\r\n        )\r\n    }\r\n`\r\nexport const CREATE_ROOM = gql`\r\n    mutation CreateRoom($questionId:Int! $librarianId:Int!){\r\n        createRoom(questionId:$questionId librarianId:$librarianId)\r\n    }\r\n`\r\nexport const CREATE_ANSWER = gql`\r\n    mutation CreateAnswer(\r\n        $questionId: Int!\r\n        $librarianId: Int!\r\n        $answerText: String\r\n        \r\n        ) {\r\n        createAnswer(\r\n            questionId: $questionId\r\n            librarianId: $librarianId\r\n            answerText: $answerText\r\n        )\r\n    }\r\n\r\n`\r\nexport const UPDATE_STATUS_QUESTION = gql`\r\n   mutation UpdateQuestionStatus($questionId:Int!){\r\n        updateQuestionStatus(questionId:$questionId)\r\n    }\r\n`\r\n// export const UPLOAD_FILE = gql`\r\n//    mutation UploadFile($file:FileUpload!){\r\n//         singleUpload(file:$file)\r\n//     }\r\n// `\r\nexport const CREATE_RECORD = gql`\r\n    mutation CreateRecord(\r\n        $title: String\r\n        $fileId: Int\r\n        $imageId: Int\r\n        $creator:String\r\n        $subject: String\r\n        $description: String\r\n        $type:String\r\n        $source:String\r\n        $relation:String\r\n        $coverage:String\r\n        $publisher:String\r\n        $contributor:String\r\n        $rights:String\r\n        $date: String\r\n        $format:String\r\n        $identifier:String\r\n        $language:String\r\n        $audience:String\r\n        $provenance:String\r\n        $right_holders:String\r\n        $instructional_method:String\r\n        $accrual_method:String\r\n        $accrual_periodicity:String\r\n        $accrual_policy:String\r\n        ) {\r\n        createRecord(\r\n            records: {\r\n            title: $title\r\n            fileId: $fileId\r\n            imageId: $imageId\r\n            creator:$creator\r\n            subject: $subject\r\n            description: $description\r\n            type:$type\r\n            source: $source\r\n            relation:$relation\r\n            coverage:$coverage\r\n            publisher:$publisher\r\n            contributor:$contributor\r\n            rights:$rights\r\n            date:$date\r\n            format:$format\r\n            identifier:$identifier\r\n            language:$language\r\n            audience:$audience\r\n            provenance:$provenance\r\n            right_holders:$right_holders\r\n            instructional_method:$instructional_method\r\n            accrual_method:$accrual_method\r\n            accrual_periodicity:$accrual_periodicity\r\n            accrual_policy:$accrual_policy\r\n            }\r\n        )\r\n        }\r\n\r\n`\r\nexport const DOWNLOADED = gql`\r\n    mutation DownloadedRecord($fileId:Int!){\r\n        dowloadedRecord(fileId:$fileId)\r\n    }\r\n\r\n`\r\n","import React,{useState, useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\nimport WorkIcon from '@material-ui/icons/Work';\r\nimport BeachAccessIcon from '@material-ui/icons/BeachAccess';\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport {QUESTIONS} from '../../../Graphql/Queries'\r\nimport {CREATE_ROOM} from '../../../Graphql/Mutation'\r\nimport {useQuery, useMutation} from '@apollo/client'\r\nimport {useRoom} from '../../../Hooks/NewRoom'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  pagination_button:{\r\n    display:\"flex\",\r\n    justifyContent:\"center\",\r\n    padding:'15px'\r\n  },\r\n  pagination_page:{\r\n    textAlign:'center',\r\n    padding:'15px'\r\n  }\r\n}));\r\n\r\nexport default function FolderList(librarian) {\r\n    const classes = useStyles();\r\n    const [page, setPage] = useState(1) \r\n    const {data, loading, error} = useQuery(QUESTIONS, {variables: {page, limit:5}})\r\n\tconst [createRoom,{data:roomdata}] = useMutation(CREATE_ROOM)\r\n\tconst [setRoom ]= useRoom(true)\r\n\r\n\tuseEffect(()=>{\r\n\t\tif(roomdata){\r\n\t\t\tsetRoom({roomdata})\r\n\t\t}\r\n\t},[roomdata])\r\n  return (\r\n        <Container maxWidth=\"sm\">\r\n             <Paper>\r\n               \r\n                        {data?\r\n                            data.unreaded.map((element, index)=>\r\n                                <List width=\"100%\" className={classes.root} key={index}>\r\n                                    <ListItem width=\"100%\" onClick={()=>createRoom({variables: {questionId:element.questionId, librarianId: parseInt(librarian.librarian.id)}})} button divider>\r\n                                        <ListItemAvatar>\r\n                                            <Avatar>\r\n                                                <ImageIcon />\r\n                                            </Avatar>\r\n                                        </ListItemAvatar>\r\n                                        <ListItemText primary={element.questionText} secondary={element.createdAt} />\r\n                                        <ListItemSecondaryAction>\r\n                                            <IconButton edge=\"end\" aria-label=\"delete\">\r\n                                              <WorkIcon />\r\n                                            </IconButton>\r\n                                        </ListItemSecondaryAction>\r\n                                    </ListItem>\r\n                    \r\n                                </List>\r\n                            )\r\n                            :\r\n                            <></>\r\n                        }\r\n                        <ButtonGroup className={classes.pagination_button} disableElevation variant=\"contained\" color=\"primary\">\r\n                            <Button disabled={page===1? true :false} onClick = {()=>setPage(page-1)}>\r\n\t\t\t\t\t\t\t\t<ArrowBackIos/>\r\n\t\t\t\t\t\t\t</Button>\r\n                                <Typography className={classes.pagination_page} p={2}>{page}</Typography>\r\n                            <Button disabled={ data&&data.unreaded.length < 5 ? true:false} onClick = {()=>setPage(page+1)} >\r\n\t\t\t\t\t\t\t\t<ArrowForwardIos/>\r\n\t\t\t\t\t\t\t</Button>\r\n                        </ButtonGroup>\r\n                 \r\n             </Paper>\r\n        </Container> \r\n  );\r\n}\r\n\r\n","\r\nimport {gql} from '@apollo/client';\r\n\r\nexport const ROOM_QUESTION_SUBSCRIBE = gql`\r\n    subscription($roomId:Int){\r\n        newRoomQuestion(roomId:$roomId)\r\n    }\r\n\r\n`\r\nexport const SUBSCRIBE_STATUS = gql`\r\n    subscription IsPublicSub($questionId:Int){\r\n        isPublicSubscript (questionId:$questionId)\r\n    }\r\n`\r\nexport const SUBSCRIBE_DOWNLOAD = gql`\r\n    subscription{\r\n        subscribeDownload\r\n    }\r\n`","import React, {useEffect} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport Collapse from '@material-ui/core/Collapse';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { red } from '@material-ui/core/colors';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder';\r\n\r\nimport ShareIcon from '@material-ui/icons/Share';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { Grid } from '@material-ui/core';\r\nimport Send from '@material-ui/icons/Send';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport moment from 'moment'\r\nimport {useMutation, useQuery, useSubscription} from '@apollo/client'\r\nimport {CREATE_ANSWER, UPDATE_STATUS_QUESTION} from '../../../Graphql/Mutation'\r\nimport {SUBSCRIBE_STATUS} from '../../../Graphql/Subscription'\r\nimport {IS_PUBLIC} from '../../../Graphql/Queries'\r\n\r\n\r\nimport Box from '@material-ui/core/Box';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // maxWidth: 345,\r\n  },\r\n  media: {\r\n    height: 0,\r\n    paddingTop: '56.25%', // 16:9\r\n  },\r\n  expand: {\r\n    transform: 'rotate(0deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  },\r\n  expandOpen: {\r\n    transform: 'rotate(180deg)',\r\n  },\r\n  avatar: {\r\n    backgroundColor: red[500],\r\n  },\r\n  text_field:{\r\n      display:'flex'\r\n  },\r\n  question_box:{\r\n    color:'#FBEEC1',\r\n    background:'#659DBD',\r\n    fontSize:\"1.2em\"\r\n},\r\n}));\r\n\r\nexport default function RecipeReviewCard({room, librarian}) {\r\n    const classes = useStyles();\r\n    const [expanded, setExpanded] = React.useState(false);\r\n    const [text, setText] = React.useState({text:'', blured:false})\r\n    // const [statusIcon, setStatus] =React.useState({})\r\n    const [createAnswer,{data}] = useMutation(CREATE_ANSWER)\r\n    const [UpdataQuestionStatus,{data:statusQuestion}] = useMutation(UPDATE_STATUS_QUESTION)\r\n\r\n    const {data:subscribeStatus} = useSubscription(SUBSCRIBE_STATUS, {variables:{questionId:room.question_id}})\r\n    const {data:isPublic, error, loading} = useQuery(IS_PUBLIC, {variables:{questionId:room.question_id}})\r\n\r\n    let time = time=>moment(time).format('dddd, MMMM DD YYYY')\r\n\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    const textBlured = (e)=>{\r\n        e.target.value.length ? setText({text:e.target.value, blured:true}) : setText({text:'', blured:true})\r\n    }\r\n    const sendQuestion = ()=>{\r\n        if(text.text.length&&room&&room.question_id&&librarian){\r\n            createAnswer({variables:{questionId:room.question_id, librarianId:parseInt(librarian.id), answerText:text.text}})           \r\n        }        \r\n    }\r\n    useEffect(()=>{\r\n        // if(room){\r\n        //     setStatus({variables:{questionId:room.question_id}})\r\n        // }\r\n    }, room)\r\n    // if(loading){\r\n    //     return<>loading...</>\r\n    // }\r\n    console.log(isPublic)\r\n    console.log(statusQuestion)\r\n    console.log(subscribeStatus)\r\n  return (<>\r\n        {            \r\n            room && room.username ?\r\n                <Card className={classes.root}>\r\n                    <CardHeader\r\n                    avatar={\r\n                        <Avatar aria-label=\"recipe\" className={classes.avatar}>\r\n                            {room.username.slice(0,1)}\r\n                        </Avatar>\r\n                    }\r\n               \r\n                    title={room.username}\r\n                    subheader={time(room.question_created_at)}\r\n                    />\r\n                  \r\n                    <CardContent>\r\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                        {room.question_text}\r\n                    </Typography>\r\n                    {data&&data.createAnswer ? (\r\n                        <Box display=\"flex\" flexDirection=\"column\" width=\"100%\" justifyContent=\"center\" alignItems=\"flex-end\">\r\n                            <Box className={classes.question_box} marginTop={1} padding={2} borderRadius={16} maxWidth=\"70%\" minWidth=\"30%\">\r\n                                {data.createAnswer.answer_text} \r\n                            </Box>\r\n                            <Box component=\"span\">{time(data.createAnswer.created_at)} </Box>\r\n                        </Box>\r\n                            ):null \r\n                    }\r\n                    </CardContent>\r\n                    <CardContent className={classes.text_field}>\r\n                        {(text.blured&&(!text.text.length))? \r\n                            <TextField\r\n                                error\r\n                                id=\"standard-error-helper-text\"\r\n                                label=\"Enter your question\"\r\n                                helperText=\"Empty entry.\"\r\n                                onBlur={textBlured}\r\n                            />\r\n                                :\r\n                            <TextField\r\n                                id=\"standard-full-width\"\r\n                                style={{ margin: 8 }}\r\n                                placeholder=\"type your question\"\r\n                                fullWidth\r\n                                margin=\"normal\"\r\n                                InputLabelProps={{shrink: true }}\r\n                                onBlur={textBlured}\r\n                                onChange= {e=>e.target.value.length?setText({ blured:false, text:e.target.value}):null}\r\n                            />\r\n                        }\r\n                                                \r\n                        <Button\r\n                            type=\"submit\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            className={classes.button}\r\n                            endIcon={<Send/>}\r\n                            onClick={sendQuestion}\r\n                            disabled = {data&&data.createAnswer ? true : false}\r\n                        >\r\n                            Send\r\n                        </Button>         \r\n                    </CardContent>\r\n                    <CardActions disableSpacing>\r\n                    <IconButton aria-label=\"add to favorites\" onClick={()=>{UpdataQuestionStatus({variables:{questionId:room.question_id}})}}>\r\n                        {\r\n                            isPublic&&statusQuestion===undefined&&isPublic.isPublic || subscribeStatus&&subscribeStatus.isPublicSubscript ?                            \r\n                            <FavoriteIcon/>:\r\n                            <FavoriteBorder/>\r\n                        }\r\n                    </IconButton>\r\n                  \r\n                    <IconButton\r\n                        className={clsx(classes.expand, {\r\n                        [classes.expandOpen]: expanded,\r\n                        })}\r\n                        onClick={handleExpandClick}\r\n                        aria-expanded={expanded}\r\n                        aria-label=\"show more\"\r\n                    >\r\n                        <ExpandMoreIcon />\r\n                        \r\n                    </IconButton>\r\n                    </CardActions>\r\n                    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n                    <CardContent>\r\n                        <Typography paragraph>\r\n                            bu oynada\r\n                            bir marta javob qaytarishingiz mumkin keyingi javoblar shaxsiy xonalarda bo'ladi\r\n                        </Typography>\r\n                       \r\n                    </CardContent>\r\n                    </Collapse>\r\n                </Card>\r\n            :\r\n            <>Smth get wrong</>\r\n        }\r\n    </>);\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport PhoneIcon from '@material-ui/icons/Phone';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport ShoppingBasket from '@material-ui/icons/ShoppingBasket';\r\nimport ThumbDown from '@material-ui/icons/ThumbDown';\r\nimport ThumbUp from '@material-ui/icons/ThumbUp';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport {useUser} from '../../Hooks/User'\r\nimport{useRoom} from'../../Hooks/NewRoom'\r\nimport Questions from'./Questions'\r\nimport NewRoom from './NewRoom'\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\trole=\"tabpanel\"\r\n\t\thidden={value !== index}\r\n\t\tid={`scrollable-force-tabpanel-${index}`}\r\n\t\taria-labelledby={`scrollable-force-tab-${index}`}\r\n\t\t{...other}\r\n\t\t>\r\n\t\t{value === index && (\r\n\t\t\t<Box p={3}>\r\n\t\t\t\t\t{children}\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nTabPanel.propTypes = {\r\n\tchildren: PropTypes.node,\r\n\tindex: PropTypes.any.isRequired,\r\n\tvalue: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n\treturn {\r\n\t\tid: `scrollable-force-tab-${index}`,\r\n\t\t'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n\t};\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tflexGrow: 1,\r\n\t\twidth: '100%',\r\n\t\tbackgroundColor: theme.palette.background.paper,\r\n\t},\r\n}));\r\n\r\nexport default function ScrollableTabsButtonForce() {\r\n\tconst classes = useStyles();\r\n\tconst [value, setValue] = React.useState(0);\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\t\tsetValue(newValue);\r\n\t};\r\n\tconst [user] = useUser(false)\r\n\tconst [room] =useRoom(false)\r\n\t// console.log(room)\r\n\tuseEffect(()=>{\r\n\t\t\r\n\t\tif(room.roomdata){\r\n\t\t\tsetValue(1)\r\n\t\t}\r\n\t},[room.roomdata])\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"default\">\r\n        <Tabs\r\n          value={value}\r\n          onChange={handleChange}\r\n          variant=\"scrollable\"\r\n          scrollButtons=\"on\"\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          aria-label=\"scrollable force tabs example\"\r\n        >\r\n\t\t\t<Tab label=\"Item One\" icon={<PhoneIcon />} {...a11yProps(0)} />\r\n\t\t\t{\r\n\t\t\t\troom&&room.roomdata?\r\n\t\t\t\t\t<Tab label=\"New Room\" icon={<FavoriteIcon />} {...a11yProps(1)} /> :\r\n\t\t\t\t\tnull\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t<Tab label=\"Item Three\" icon={<PersonPinIcon />} {...a11yProps(2)} />\r\n\t\t\t<Tab label=\"Item Four\" icon={<HelpIcon />} {...a11yProps(3)} />\r\n\t\t\t<Tab label=\"Item Five\" icon={<ShoppingBasket />} {...a11yProps(4)} />\r\n\t\t\t<Tab label=\"Item Six\" icon={<ThumbDown />} {...a11yProps(5)} />\r\n\t\t\t<Tab label=\"Item Seven\" icon={<ThumbUp />} {...a11yProps(6)} />\r\n        </Tabs>\r\n      </AppBar>\r\n      <TabPanel value={value} index={0}>\r\n\t\t\t<Questions librarian={user}/>\r\n      </TabPanel>\r\n      \t{\r\n\t\t  room&&room.roomdata?\r\n\t\t  \t<TabPanel  value={value} index={1}>\r\n\t\t\t\t<NewRoom room = {room.roomdata.createRoom} librarian={user}/>\r\n\t\t\t</TabPanel>:\r\n\t\t\tnull\r\n\t  \t}\r\n\t\t<TabPanel value={value} index={2}>\r\n\t\t\tItem mish\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={3}>\r\n\t\t\tItem Four\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={4}>\r\n\t\t\tItem Five\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={5}>\r\n\t\t\tItem Six\r\n\t\t</TabPanel>\r\n\t\t<TabPanel value={value} index={6}>\r\n\t\t\tItem Seven\r\n\t\t</TabPanel>\r\n    </div>\r\n  );\r\n}\r\n","import React,{ useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Grid } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport Send from '@material-ui/icons/Send';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport { Typography } from '@material-ui/core';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useQuery, useMutation } from '@apollo/client';\r\nimport {LIBRARIES,THEMES} from '../../../Graphql/Queries'\r\nimport {READER_CREATE_QUESTION} from '../../../Graphql/Mutation'\r\nimport Box from '@material-ui/core/Box';\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    '& > *': {\r\n      margin: '0 auto',\r\n      width: \"60%\",\r\n      minHeight: '50vh',\r\n      padding:'3rem'\r\n    },\r\n  },\r\n  button: {\r\n    margin:'0 auto'\r\n  },\r\n  send_message_parent:{\r\n      position:'relative'\r\n  },\r\n  bottom_send_question:{\r\n      position:'absolute',\r\n      bottom:0,\r\n      left:0,\r\n      width:'100%',\r\n      padding:'1.3rem',\r\n      boxSizing:'border-box',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  question_box:{\r\n      color:'#FBEEC1',\r\n      background:'#659DBD',\r\n      fontSize:\"1.2em\"\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nexport default function SimplePaper() {\r\n    const classes = useStyles();\r\n    const [lib, setLib] = React.useState('');\r\n    const [theme, setTheme] = React.useState('');\r\n    const { loading:lib_loading,  data:lib_data } = useQuery(LIBRARIES);\r\n    const { loading:theme_loading, data:theme_data } = useQuery(THEMES);   \r\n    const [createQuestion,{data:question_data}] = useMutation(READER_CREATE_QUESTION);\r\n    const [text, setText] = useState({text:'', blured:false})\r\n  \r\n    const handleChange = (event) => {\r\n        setLib(event.target.value);\r\n    };\r\n    const themeChange = (event) => {\r\n        setTheme(event.target.value);\r\n    };\r\n    \r\n    const sendQuestion = ()=>{\r\n        let readerId = localStorage.getItem('readerId')\r\n        if(text.text.length&& readerId){\r\n            createQuestion({ variables: { readerId:parseInt(readerId), questionText: text.text, theme:theme? theme:null, library: lib ? parseInt(lib) : null } })\r\n        }        \r\n    }\r\n    const textBlured = (e)=>{\r\n        e.target.value.length ? setText({text:e.target.value, blured:true}) : setText({text:'', blured:true})\r\n    }\r\n   \r\n   \r\n  return (<>\r\n        {lib_loading||theme_loading?\r\n            <Backdrop className={classes.backdrop} open={true}  >\r\n\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t</Backdrop>:\r\n            <div className={classes.root}>\r\n                <Paper elevation={3} className={classes.send_message_parent}> \r\n                    <Typography variant=\"h4\" component=\"h2\">\r\n                        Your question Section\r\n                    </Typography>\r\n                    {question_data&&question_data.createQuestion ? (\r\n                            <Box display=\"flex\" flexDirection=\"column\" width=\"100%\" justifyContent=\"center\" alignItems=\"flex-end\">\r\n                                <Box className={classes.question_box} marginTop={1} padding={2} borderRadius={16} maxWidth=\"70%\" minWidth=\"30%\">\r\n                                    {question_data.createQuestion.questionText} \r\n                                </Box>\r\n                                <Box component=\"span\">{question_data.createQuestion.createdAt} </Box>\r\n                            </Box>\r\n                        ):null \r\n                    }\r\n                    <div className={classes.bottom_send_question}>\r\n                        <Grid container>\r\n                            <Grid item>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"demo-simple-select-helper-label\">Theme</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"demo-simple-select-helper-label\"\r\n                                        id=\"demo-simple-select-helper\"\r\n                                        value={theme}\r\n                                        onChange={themeChange}\r\n                                    >\r\n                                        <MenuItem value=\"\">\r\n                                            <em>None</em>\r\n                                        </MenuItem>\r\n                                        { theme_data.themes.map((theme, index)=> \r\n                                            <MenuItem key={index} value={theme.themeId}>{theme.themeName}</MenuItem>)\r\n                                        }\r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                            <Grid item>\r\n                                <FormControl className={classes.formControl}>\r\n                                    <InputLabel id=\"demo-simple-select-helper-label\">Library</InputLabel>\r\n                                    <Select\r\n                                        labelId=\"demo-simple-select-helper-label\"\r\n                                        id=\"demo-simple-select-helper\"\r\n                                        value={lib}\r\n                                        onChange={handleChange}\r\n                                    >\r\n                                        <MenuItem value=\"\">\r\n                                            <em>None</em>\r\n                                        </MenuItem>\r\n                                        { lib_data.lib.map((lib, index)=> \r\n                                            <MenuItem key={index} value={lib.libraryId}>{lib.libraryName}</MenuItem>)\r\n                                        }\r\n                                        \r\n                                    </Select>\r\n                                </FormControl>\r\n                            </Grid>\r\n                        </Grid>\r\n                        <Grid  container>\r\n                            <Grid item xs={10}>\r\n                              \r\n                                    {(text.blured&&(!text.text.length))? \r\n                                            <TextField\r\n                                                error\r\n                                                id=\"standard-error-helper-text\"\r\n                                                label=\"Enter your question\"\r\n                                                helperText=\"Empty entry.\"\r\n                                                onBlur={textBlured}\r\n                                            />\r\n                                        :\r\n                                            <TextField\r\n                                                id=\"standard-full-width\"\r\n                                                style={{ margin: 8 }}\r\n                                                placeholder=\"type your question\"\r\n                                                fullWidth\r\n                                                margin=\"normal\"\r\n                                                InputLabelProps={{\r\n                                                    shrink: true,\r\n                                                }}\r\n                                                onBlur={textBlured}\r\n                                            />\r\n                                        }\r\n                            </Grid>\r\n                            <Grid item xs={2}>\r\n                                <Button\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    className={classes.button}\r\n                                    endIcon={<Send/>}\r\n                                    onClick={sendQuestion}\r\n                                >\r\n                                    Send\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </Paper>\r\n          </div>\r\n        \r\n        }\r\n  </>);\r\n}\r\n","import React,{ useEffect, useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { Grid } from '@material-ui/core';\r\nimport Button from '@material-ui/core/Button';\r\nimport Send from '@material-ui/icons/Send';\r\nimport { Typography } from '@material-ui/core';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useQuery, useMutation, useSubscription } from '@apollo/client';\r\nimport { TEXT_ROOM} from '../../../Graphql/Queries'\r\nimport {ROOM_QUESTION} from '../../../Graphql/Mutation'\r\nimport {ROOM_QUESTION_SUBSCRIBE} from '../../../Graphql/Subscription'\r\nimport Box from '@material-ui/core/Box';\r\nconst useStyles = makeStyles((theme) => ({\r\n \r\n  button: {\r\n    margin:'0 auto'\r\n  },\r\n  send_message_parent:{\r\n      position:'relative',\r\n      display: 'flex',\r\n      flexWrap: 'wrap',\r\n      '& > *': {\r\n        margin: '0 auto',\r\n        width: \"60%\",\r\n        // minHeight: '50vh',\r\n        padding:'3rem'\r\n      },\r\n  },\r\n  bottom_send_question:{\r\n      position:'absolute',\r\n      bottom:0,\r\n      left:'20%',\r\n      width:'60%',\r\n      padding:'1.3rem',\r\n      boxSizing:'border-box',\r\n      display:'flex',\r\n      alignItems:'center'\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  question_box:{\r\n      color:'#FBEEC1',\r\n      background:'#659DBD',\r\n      fontSize:\"1.2em\"\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  form_roomQuestion:{\r\n      display:'flex'\r\n  }\r\n}));\r\n\r\nconst SubscribeQuestion = (readerRooms)=>{\r\n    const classes = useStyles();\r\n    const [all, setAll] = useState([])\r\n    \r\n    const { data: newRoomQuestion } = useSubscription( ROOM_QUESTION_SUBSCRIBE,\r\n        {variables:{roomId: parseInt(readerRooms.readerRooms.roomData.room_id)} } );\r\n\r\n        // for create new array for questions \r\n    useEffect(()=>{\r\n        if(newRoomQuestion){\r\n            setAll([...all, newRoomQuestion])\r\n        }\r\n    },[newRoomQuestion,all])\r\n\r\n\r\n\r\n        return <>\r\n            {\r\n                all.length ? all.map((element, index)=>\r\n                    <div key={index}> \r\n                        <Box className={classes.question_box} marginTop={1} padding={2} borderRadius={16} maxWidth=\"70%\" minWidth=\"30%\">\r\n                            {element.newRoomQuestion.question_text} \r\n                        </Box>\r\n                        <Box component=\"span\">{element.newRoomQuestion.question_text.question_created_at} </Box> \r\n                    </div>):<></>\r\n            }\r\n        </>\r\n}\r\n\r\nexport default function SimplePaper(readerRooms) {\r\n    const classes = useStyles();\r\n    console.log(readerRooms)\r\n    \r\n    const {loading:room_loading, data:room_data} =useQuery(TEXT_ROOM, {variables:{roomId: readerRooms.roomData.room_id}})\r\n    const [createQuestion] = useMutation(ROOM_QUESTION);\r\n   \r\n    const [text, setText] = useState({text:'', blured:false})\r\n\r\n    \r\n    const sendQuestion = ()=>{\r\n        \r\n        if(text.text.length&&readerRooms&&readerRooms.roomData.room_id){\r\n            createQuestion({ variables: { roomId:parseInt(readerRooms.roomData.room_id), questionText: text.text } })\r\n           \r\n        }        \r\n    }\r\n    const textBlured = (e)=>{\r\n        e.target.value.length ? setText({text:e.target.value, blured:true}) : setText({text:'', blured:true})\r\n    }\r\n   \r\n   \r\n  return (<>\r\n        {room_loading?\r\n            <Backdrop className={classes.backdrop} open={true}  >\r\n\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t</Backdrop>:\r\n            <div className={classes.send_message_parent}>\r\n                \r\n                    <Grid container>\r\n                        <Grid item xs={8}>\r\n                            <Typography variant=\"h5\" component=\"h2\">\r\n                                <span>LIBRARIAN: </span>\r\n                            {readerRooms.roomData.first_name + \"  \"+ readerRooms.roomData.last_name}\r\n                            </Typography>\r\n                        </Grid>\r\n                        <Grid item xs={4} display=\"flex\" flexDirection=\"column\" justifyContent=\"space-between\">\r\n                                {\r\n                                    room_data&&room_data.rooms[0].answers.question.theme?(\r\n                                        <Grid item>theme:{ room_data.rooms[0].answers.question.theme}</Grid>\r\n                                    ):null\r\n                                }\r\n                                 {\r\n                                    room_data&&room_data.rooms[0].answers.question.library?(\r\n                                        <Grid item>library:{ room_data.rooms[0].answers.question.library}</Grid>\r\n                                    ):null\r\n                                }\r\n                        </Grid>\r\n                    </Grid>\r\n                    <div  className=\"room-messages\">\r\n                        {\r\n                            room_data&&room_data.rooms? (\r\n                                room_data.rooms.map((one, index)=>(\r\n                                    <div  key = {index}>\r\n                                        <Box display=\"flex\" flexDirection=\"column\" width=\"100%\" justifyContent=\"center\" alignItems=\"flex-start\">\r\n                                            <Box className={classes.question_box} marginTop={1} padding={2} borderRadius={16} maxWidth=\"70%\" minWidth=\"30%\">\r\n                                                {one.answers.answerText} \r\n                                            </Box>\r\n                                            <Box component=\"span\">{one.answers.createdAt} </Box>\r\n                                        </Box>\r\n                                        <Box display=\"flex\" flexDirection=\"column\" width=\"100%\" justifyContent=\"center\" alignItems=\"flex-end\">\r\n                                            <Box className={classes.question_box} marginTop={1} padding={2} borderRadius={16} maxWidth=\"70%\" minWidth=\"30%\">\r\n                                                {one.answers.question.questionText} \r\n                                            </Box>\r\n                                            <Box component=\"span\">{one.answers.question.createdAt} </Box>\r\n                                        </Box>\r\n                                    </div>\r\n                                ))\r\n                            ):null\r\n                        }\r\n                        <Box display=\"flex\" flexDirection=\"column\" width=\"100%\" justifyContent=\"center\"     alignItems=\"flex-end\">\r\n                         {room_data&&room_data.notAnsweredRoom ? (\r\n                             room_data.notAnsweredRoom.map((question, index)=>\r\n                                    <div key={index}>\r\n                                        <Box className={classes.question_box} marginTop={1} padding={2} borderRadius={16} maxWidth=\"70%\" minWidth=\"30%\">\r\n                                            {question.questionText} \r\n                                        </Box>\r\n                                        <Box component=\"span\">{question.createdAt} </Box>\r\n                                    </div>\r\n                               )\r\n\r\n                            ):null \r\n                        }\r\n                        <SubscribeQuestion readerRooms={readerRooms}></SubscribeQuestion>\r\n                      \r\n                        </Box>\r\n\r\n                    </div>\r\n                    <div className={classes.bottom_send_question}>\r\n                               \r\n                        {(text.blured&&(!text.text.length))? \r\n                            <TextField\r\n                             error\r\n                             id=\"standard-error-helper-text\"\r\n                             label=\"Enter your question\"\r\n                             helperText=\"Empty entry.\"\r\n                             onBlur={textBlured}\r\n                            />\r\n                                :\r\n                            <TextField\r\n                                id=\"standard-full-width\"\r\n                                style={{ margin: 8 }}\r\n                                placeholder=\"type your question\"\r\n                                fullWidth\r\n                                margin=\"normal\"\r\n                                InputLabelProps={{shrink: true }}\r\n                                onBlur={textBlured}\r\n                                onChange= {e=>e.target.value.length?setText({ blured:false, text:e.target.value}):null}\r\n                            />\r\n                                            }\r\n                                   \r\n                            <Button\r\n                                type=\"submit\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                className={classes.button}\r\n                                endIcon={<Send/>}\r\n                                onClick={sendQuestion}\r\n                             >\r\n                                 Send\r\n                            </Button>         \r\n                    </div>\r\n          </div>\r\n        \r\n        }\r\n  </>);\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { useQuery } from '@apollo/client';\r\nimport {OTHER_QUESTION} from'../../../Graphql/Queries'\r\nconst useStyles = makeStyles(theme=>({\r\n    root: {\r\n      maxWidth: 300,\r\n      margin:'5px'\r\n    },\r\n    questions_list:{\r\n        width:\"80%\",\r\n        margin:'0 auto',\r\n        display:'flex',\r\n        flexWrap:'wrap',\r\n    },\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n      color: '#fff',\r\n    },\r\n  }));\r\n\r\nexport default function ImgMediaCard() {\r\n    const classes = useStyles();\r\n\r\n    const {loading,  data} = useQuery(OTHER_QUESTION, { variables: {readerId:parseInt(localStorage.getItem('readerId'))}})\r\n    \r\n    return (<>\r\n        <Typography component=\"h2\" >Your questions successfully send and will be answeres soon..</Typography>\r\n        <div className={classes.questions_list}>\r\n        \r\n            {loading? \r\n                    <Backdrop className={classes.backdrop} open={true}  >\r\n                        <CircularProgress color=\"inherit\" />\r\n                    </Backdrop>\r\n                    :\r\n                    data&&data.libUnread?\r\n                        data.libUnread.map((element, index)=>\r\n                            <Card className={classes.root} key={index}>\r\n                                <CardActionArea>\r\n                                    <CardMedia\r\n                                    component=\"img\"\r\n                                    alt=\"Contemplative Reptile\"\r\n                                    height=\"200\"\r\n                                    image={\"https://picsum.photos/300/200?random=\"+ index}\r\n                                    title=\"Contemplative Reptile\"\r\n                                    />\r\n                                    <CardContent>\r\n                                        {element.library ?\r\n                                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                                {element.library}\r\n                                            </Typography>:<></>\r\n                                        }\r\n                                        {element.theme ?\r\n                                            <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                                                {element.theme}\r\n                                            </Typography>:<></>\r\n                                        }\r\n                                        <Typography variant=\"body2\" color=\"primary\" component=\"h6\">\r\n                                            {element.questionText}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n                                            {element.createdAt}\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </CardActionArea>\r\n                            </Card> \r\n                        )\r\n                        :\r\n                        <></>\r\n            }  \r\n        </div>\r\n    </>);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport PersonPinIcon from '@material-ui/icons/PersonPin';\r\nimport HelpIcon from '@material-ui/icons/Help';\r\nimport Send from '@material-ui/icons/Send';\r\nimport Box from '@material-ui/core/Box';\r\nimport ReaderQuestion from '../NewQuestion'\r\nimport{ READER_ROOMS} from '../../../Graphql/Queries'\r\nimport { useQuery } from '@apollo/client';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport ReaderRoom from '../ReaderRooms'\r\nimport OtherQuestion from'../OtherQuestion'\r\nfunction TabPanel(props) {\r\n\tconst { children, value, index, ...other } = props;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\trole=\"tabpanel\"\r\n\t\thidden={value !== index}\r\n\t\tid={`scrollable-force-tabpanel-${index}`}\r\n\t\taria-labelledby={`scrollable-force-tab-${index}`}\r\n\t\t{...other}\r\n\t\t>\r\n\t\t{value === index && (\r\n\t\t\t<Box p={3}>\r\n\t\t\t\t<>{children}</>\r\n\t\t\t</Box>\r\n\t\t)}\r\n\t\t</div>\r\n\t);\r\n\t}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.any.isRequired,\r\n  value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `scrollable-force-tab-${index}`,\r\n    'aria-controls': `scrollable-force-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    width: '100%',\r\n    backgroundColor: theme.palette.background.paper,\r\n\tpadding:0\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n}));\r\n\r\nexport default function ScrollableTabsButtonForce() {\r\n\tconst classes = useStyles();\r\n\tconst [value, setValue] = useState(0);\r\n\tconst [index, setIndex] = useState(-1)\r\n\tconst {loading,  data} = useQuery(READER_ROOMS, { variables: {readerId:parseInt(localStorage.getItem(\"readerId\"))}})\r\n\r\n\tconst handleChange = (event, newValue) => {\r\n\t\tsetValue(newValue);\r\n\t}\r\n\tuseEffect(()=>{\r\n\t\tdata ? setIndex(data.readerRooms.length - 1) :setIndex(-1)\r\n\t\t// console.log(\"reader room data\",data)\r\n\t},[data])\r\n  return (\r\n\t<>\r\n\t\t{ loading ? \r\n\t\t\t<Backdrop className={classes.backdrop} open={true}  >\r\n\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t</Backdrop>\r\n\t\t\t:\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<AppBar position=\"static\" color=\"default\">\r\n\t\t\t\t\t<Tabs\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\tvariant=\"scrollable\"\r\n\t\t\t\t\t\tscrollButtons=\"on\"\r\n\t\t\t\t\t\tindicatorColor=\"primary\"\r\n\t\t\t\t\t\ttextColor=\"primary\"\r\n\t\t\t\t\t\taria-label=\"scrollable force tabs example\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{data&&data.readerRooms? \r\n\t\t\t\t\t\t\tdata.readerRooms.map((room, index)=> \r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\treturn(<Tab label={\"room \"+(index)} icon={<PersonPinIcon />}{...a11yProps(index)} />)}\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:<></>}\r\n\t\t\t\t\t\t<Tab label=\"Other Question\" icon={<HelpIcon />} {...a11yProps(index+1)} />\r\n\t\t\t\t\t\t<Tab label=\"Send Question\" icon={<Send/>} {...a11yProps(index+2)} />\r\n\t\t\t\t\t</Tabs>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t{\r\n\t\t\t\t\tdata&&data.readerRooms ? \r\n\t\t\t\t\t(\tdata.readerRooms.map((room, ind)=> \r\n\t\t\t\t\t\t\t\t\t<TabPanel value={value} index={ind}>\r\n\t\t\t\t\t\t\t\t\t\t<ReaderRoom roomData = {room}/>\r\n\t\t\t\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t\t))\r\n\t\t\t\t\t:<></>\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t<TabPanel value={value} index={index+1}>\r\n\t\t\t\t\t<OtherQuestion/>\r\n\t\t\t\t</TabPanel>\r\n\t\t\t\t<TabPanel value={value} index={index+2}>\r\n\t\t\t\t\t<ReaderQuestion/>\r\n\t\t\t\t</TabPanel>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t}\r\n\t</>\r\n  );\r\n}\r\n","import React, {useCallback} from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport {useDropzone} from 'react-dropzone'\r\nimport axios from 'axios'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t  width: '100%',\r\n\t  backgroundColor: theme.palette.background.paper,\r\n\t  \r\n\t},\r\n\tdrag_drop:{\r\n\t\tbackground:'linear-gradient(to left,  #fff,#50B6F1)',\r\n\t\tpadding:'2rem',\r\n\t\tcursor:'pointer'\r\n\t}\r\n}));\r\n\r\n\r\nexport default function MyDropzone({sendDataToParent}) {\r\n\tconst classes = useStyles();\r\n\tconst [checked, setChecked] = React.useState(false);\r\n\r\n  \tconst onDrop = useCallback( async(acceptedFiles) => {\r\n\t\t\r\n        let formData = new FormData();\r\n        for(let one of acceptedFiles){\r\n            formData.append('book', one);\r\n        }\r\n        \r\n        await axios({\r\n            method:'POST',\r\n            url: 'http://localhost:5000/upload/book',\r\n            data:formData,\r\n            headers: {\r\n                  'Content-Type': `multipart/form-data boundary=${formData._boundary}`\r\n                }\r\n            \r\n             \r\n        }).then(function (e) {\r\n\t\t\tsendDataToParent(e.data.file_id)\r\n\t\t\tsetChecked(true)\r\n            console.log('SUCCESS!!',e);\r\n          })\r\n          .catch(function () {\r\n            console.log('FAILURE!!');\r\n\t\t\tsetChecked(false)\r\n          });\r\n\r\n  \t}, [])\r\n\tconst {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n\r\n \r\n  return (\r\n\t\t<List className={classes.root}>\r\n\t\t\t<ListItem >\r\n\t\t\t\t<ListItemText>\r\n\t\t\t\t<div {...getRootProps()}>\r\n\t\t\t\t\t<input {...getInputProps() } name=\"book\"  />\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tisDragActive ?\r\n\t\t\t\t\t\t<p className={classes.drag_drop}>Drop the files here ...</p> :\r\n\t\t\t\t\t\t<p className={classes.drag_drop}>Drag and drop full text</p>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t\t</ListItemText>\r\n\t\t\t\t<ListItemIcon>\r\n\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\tdisableRipple\r\n\t\t\t\t\t/>\r\n\t\t\t\t</ListItemIcon>\r\n\t\t\t</ListItem>\r\n\t\t</List>\r\n    \r\n  )\r\n}","import React, {useCallback} from 'react'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport {useDropzone} from 'react-dropzone'\r\nimport axios from 'axios'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t  width: '100%',\r\n\t  backgroundColor: theme.palette.background.paper,\r\n\t  \r\n\t},\r\n\tdrag_drop:{\r\n\t\tbackground:'linear-gradient(to left,  #fff,#50B6F1)',\r\n\t\tpadding:'2rem',\r\n\t\tcursor:'pointer'\r\n\t}\r\n}));\r\n\r\nexport default function MyDropzone({sendImageId}) {\r\n  const classes = useStyles();\r\n  const [checked, setChecked] = React.useState(false);\r\n    \r\n\r\n  const onDrop = useCallback( async(acceptedFiles) => {\r\n        let formData = new FormData();\r\n        for(let one of acceptedFiles){\r\n            formData.append('images', one);\r\n        }\r\n       console.log(acceptedFiles)\r\n        await axios({\r\n            method:'POST',\r\n            url: 'http://localhost:5000/upload/image',\r\n            data:formData,\r\n            headers: {\r\n                  'Content-Type': `multipart/form-data boundary=${formData._boundary}`\r\n                }\r\n            \r\n             \r\n        }).then(function (e) {\r\n            sendImageId(e.data.image_id)\r\n            setChecked(true)\r\n            console.log('SUCCESS!!',e);\r\n          })\r\n          .catch(function () {\r\n            console.log('FAILURE!!');\r\n            setChecked(false)\r\n          });\r\n\r\n\r\n  }, [])\r\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop})\r\n \r\n  return (\r\n\t<List className={classes.root}>\r\n\t<ListItem >\r\n\t\t<ListItemText>\r\n\t\t\t<div {...getRootProps()}>\r\n\t\t\t\t\t<input {...getInputProps() } name=\"images\" />\r\n\t\t\t{\r\n\t\t\t\tisDragActive ?\r\n\t\t\t\t<p className={classes.drag_drop}>Drop the images here ...</p> :\r\n\t\t\t\t<p className={classes.drag_drop}>Drag and drop image</p>\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t\t</ListItemText>\r\n\t\t\t<ListItemIcon>\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tchecked={checked}\r\n\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\tdisableRipple\r\n\t\t\t\t/>\r\n\t\t\t</ListItemIcon>\r\n\t\t</ListItem>\r\n\t</List>\r\n  )\r\n}","import React, { useRef, useState, useEffect } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport FileUpload from '../FileUpload'\r\nimport ImageUpload from '../ImageUpload'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport {CREATE_RECORD} from '../../Graphql/Mutation'\r\nimport {useMutation} from'@apollo/client'\r\nimport { Grid } from '@material-ui/core';\r\nimport {Link} from 'react-router-dom'\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: 'calc( 50% - 16px)',\r\n    },\r\n  },\r\n}));\r\nexport default function App(){\r\n    const classes = useStyles()\r\n    const [fileId, setFileid] = useState(null)\r\n    const [imageId, setImage] = useState(null)\r\n    const [open, setOpen] = React.useState(false)\r\n\r\n\tconst[createRecord, {data}] = useMutation(CREATE_RECORD)\r\n\r\n    let title = useRef()\r\n    let creator = useRef()\r\n\tlet subject =useRef()\r\n\tlet description =useRef()\r\n\tlet \ttype =useRef()\r\n\tlet  source =useRef()\r\n\tlet  relation =useRef()\r\n\tlet  coverage =useRef()\r\n\tlet  publisher =useRef()\r\n\tlet contributor =useRef()\r\n\tlet  rights =useRef()\r\n\tlet  date =useRef()\r\n\tlet  format =useRef()\r\n\tlet  identifier =useRef()\r\n\tlet  language =useRef()\r\n\tlet audience =useRef()\r\n\tlet \tprovenance =useRef()\r\n\tlet \tright_holders =useRef()\r\n\tlet  instructional_method =useRef()\r\n\tlet  accrual_method =useRef()\r\n\tlet  accrual_periodicity =useRef()\r\n\tlet  accrual_policy  =useRef()\r\n\r\n    const sendDataToParent = (index) => { \r\n        setFileid(index);\r\n      };\r\n    const sendImageId = (index) => {\r\n        setImage(index);\r\n      };\r\n\r\n    const sendRecord = (e)=>{\r\n        let bookTitle = title.current.childNodes[1].childNodes[0]\r\n\r\n\t\tsubject = subject.current.childNodes[1].childNodes[0].value\r\n\t\tcreator = creator.current.childNodes[1].childNodes[0].value\r\n\r\n\t\tdescription = description.current.childNodes[1].childNodes[0].value\r\n\t\ttype = type.current.childNodes[1].childNodes[0].value \r\n\t\tsource = source.current.childNodes[1].childNodes[0].value\r\n\t\trelation = relation.current.childNodes[1].childNodes[0].value \r\n\t\tcoverage = coverage.current.childNodes[1].childNodes[0].value \r\n\t\tpublisher =\tpublisher.current.childNodes[1].childNodes[0].value\r\n\t\tcontributor = contributor.current.childNodes[1].childNodes[0].value \r\n\t\trights \t= rights.current.childNodes[1].childNodes[0].value\r\n\t\tdate = date.current.childNodes[1].childNodes[0].value\r\n\t\tformat = format.current.childNodes[1].childNodes[0].value\r\n\t\tidentifier =identifier.current.childNodes[1].childNodes[0].value\r\n\t\tlanguage =\tlanguage.current.childNodes[1].childNodes[0].value\r\n\t\taudience =\taudience.current.childNodes[1].childNodes[0].value\r\n\t\tprovenance \t= provenance.current.childNodes[1].childNodes[0].value\r\n\t\tright_holders =\tright_holders.current.childNodes[1].childNodes[0].value\r\n\t\tinstructional_method = instructional_method.current.childNodes[1].childNodes[0].value\r\n\t\taccrual_method \t= accrual_method.current.childNodes[1].childNodes[0].value\r\n\t\taccrual_periodicity =\taccrual_periodicity.current.childNodes[1].childNodes[0].value\r\n\t\taccrual_policy = accrual_policy.current.childNodes[1].childNodes[0].value\r\n\t\t// console.log(subject, description, creator, audience)\r\n        if(bookTitle.tagName===\"INPUT\"&&bookTitle.value){\r\n            createRecord({variables:{\r\n\t\t\t\ttitle:bookTitle.value, \r\n\t\t\t\tfileId, \r\n\t\t\t\timageId,\r\n\t\t\t\tcreator,\r\n\t\t\t\tsubject,\r\n\t\t\t\tdescription,\r\n\t\t\t\ttype, source,\r\n\t\t\t\trelation, \r\n\t\t\t\tcoverage, \r\n\t\t\t\tpublisher,\r\n\t\t\t\tcontributor, \r\n\t\t\t\trights,\r\n\t\t\t\tdate,\r\n\t\t\t\tformat,\r\n\t\t\t\tidentifier,\r\n\t\t\t\tlanguage,audience,\r\n\t\t\t\tprovenance,\r\n\t\t\t\tright_holders,\r\n\t\t\t\tinstructional_method,\r\n\t\t\t\taccrual_method,\r\n\t\t\t\taccrual_periodicity,\r\n\t\t\t\taccrual_policy\r\n\t\t\t}})\r\n        }\r\n        \r\n\r\n    }\r\n    // console.log(imageId, fileId)\r\n\t// console.log(data)\r\n  \r\n        useEffect(()=>{\r\n            if(data){\r\n\t\t\t\tconsole.log(data)\r\n                setOpen(true);\r\n            }\r\n        },[data])\r\n    \r\n      const handleClose = (event, reason) => {\r\n        if (reason === 'clickaway') {\r\n          return;\r\n        }    \r\n        setOpen(false);\r\n      };\r\n    return <>\r\n        <Typography align=\"center\" color=\"secondary\" variant=\"h3\" component=\"h2\" >Create Bibliographic Record </Typography>\r\n        <form className={classes.root} noValidate autoComplete=\"off\">\r\n            <Grid container display = 'flex' justify='space-between' >\r\n\t  \t\t\t{/* <Grid item xs={12} lg={6} > */}\r\n\t\t\t\t<TextField required ref={title} label=\"title\" title = \"The name is given to the resource. Typically, a Title will be a name by which the resource is formally known\" />\r\n\t\t\t\t<TextField required ref={creator} label=\"creator\"  />\r\n\t\t\t\t<TextField title=\"The topic of the content of the resource. Typically, a Subject will be expressed as keywords or key phrases, or classification codes that describe the topic of the resource. Recommended best practice is to select a value from a controlled vocabulary or formal classification scheme\" ref={subject} label=\"subject and keywords\" />\r\n\r\n\t\t\t\t<TextField  ref={description} label=\"description\" />\r\n\t\t\t\t<TextField  ref={type } label=\"Resource Type\" />\r\n\t\t\t\t<TextField  ref={ source } label=\"source\" />\r\n\t\t\t\t<TextField  ref={ relation } label=\"relation\" />\r\n\t\t\t\t<TextField  ref={ coverage } title= \"The extent or scope of the content of the resource. Coverage will typically include spatial location (a place name or geographic coordinates), temporal period (a period label, date, or date range), or jurisdiction (such as a named administrative entity). Recommended best practice is to select a value from a controlled vocabulary (for example, the Thesaurus of Geographic Names). Where appropriate, named places or periods should be used in preference to numeric identifiers such as sets of coordinates or date ranges\" label=\"coverage\" />\r\n\t\t\t\t<TextField  ref={ publisher } label=\"publisher\" />\r\n\t\t\t\t<TextField  ref={ contributor } label=\"contributor\" />\r\n\t\t\t\t<TextField  ref={ rights } label=\"rights\" />\r\n\t\t\t\t<TextField  ref={ date } label=\"date \" />\r\n\t\t\t\t<TextField title=\"The physical or digital manifestation of the resource. Typically, the Format may include the media type or dimensions of the resource. Examples of dimensions include size and duration. The format may be used to determine the software, hardware, or other equipment needed to display or operate the resource\"  ref={ format } label=\"format\" />\r\n\t\t\t\t<TextField  ref={ identifier } title=\"An unambiguous reference to the resource within a given context. Recommended best practice is to identify the resource utilizing a string or number conforming to a formal identification system. Examples of formal identification systems include the Uniform Resource Identifier (URI) (including the Uniform Resource Locator (URL), the Digital Object Identifier (DOI), and the International Standard Book Number (ISBN)\" label=\"identifier\" />\r\n\t\t\t\t<TextField  ref={ language } label=\"language\" />\r\n\t\t\t\t<TextField  ref={audience } label=\"audience\" />\r\n\t\t\t\t<TextField  ref={provenance } label=\"provenance\" />\r\n\t\t\t\t<TextField  ref={ right_holders } label=\"right holders\" />\r\n\t\t\t\t<TextField  ref={ instructional_method } label=\"instructional method\" />\r\n\t\t\t\t<TextField  ref={ accrual_method } label=\"accrual method\" />\r\n\t\t\t\t<TextField  ref={ accrual_periodicity } label=\"accrual periodicity\" />\r\n\t\t\t\t<TextField  ref={ accrual_policy} label=\"accrual policy\" />\r\n\t\t\t\t{/* </Grid> */}\r\n\t\t\t</Grid>\r\n\r\n            <FileUpload sendDataToParent={sendDataToParent}/>\r\n            <ImageUpload sendImageId={sendImageId}/>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={sendRecord}>\r\n                Send\r\n            </Button>\r\n        </form>\r\n        <Snackbar\r\n            anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n            }}\r\n            open={open}\r\n            autoHideDuration={6000}\r\n            onClose={handleClose}\r\n            message=\"Your record successfully send\"\r\n            action={\r\n            <React.Fragment>\r\n\t\t\t\t{data ?\r\n\t\t\t\t\t<a href ={\"http://localhost:5000/\" +data.createRecord.path}>\r\n\t\t\t\t\t\t<Button color=\"secondary\" size=\"small\" onClick={handleClose} >\r\n\t\t\t\t\t\t\tOpen Record\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t{console.log(data.createRecord.path)}\r\n\t\t\t\t\t</a>:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n                \r\n                <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n                <CloseIcon fontSize=\"small\" />\r\n                </IconButton>\r\n            </React.Fragment>\r\n            }\r\n        />\r\n    </>\r\n }","import Form from './Form'\r\nimport React from 'react';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Container from '@material-ui/core/Container';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    book_form_paper: {\r\n        marginTop:'1rem',\r\n        padding:'1rem'\r\n    },\r\n  \r\n}));\r\nexport default function SimpleContainer() {\r\n    const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n        <CssBaseline />\r\n        <Container maxWidth=\"sm\">\r\n            <Paper className= {classes.book_form_paper}> <Form/> </Paper>\r\n        </Container>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/defaultbook.b508dd32.jpg\";","\r\nimport {BOOKS} from '../../Graphql/Queries'\r\nimport {DOWNLOADED} from '../../Graphql/Mutation'\r\nimport {SUBSCRIBE_DOWNLOAD} from '../../Graphql/Subscription'\r\n\r\n\r\nimport {useQuery, useMutation, useSubscription} from '@apollo/client'\r\nimport React, { useEffect, useState } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport GetApp from '@material-ui/icons/GetApp';\r\nimport Close from '@material-ui/icons/Close';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Cover from '../../images/defaultbook.jpg'\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport List from '@material-ui/core/List';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\r\nimport Button from '@material-ui/core/Button'\r\nimport ArrowBackIos from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIos from '@material-ui/icons/ArrowForwardIos';\r\nconst useStyles = makeStyles((theme) => ({\r\n    container:{\r\n        width:'1000px',\r\n        marginRight:'auto',\r\n        marginLeft:'auto'\r\n    },\r\n    root: {\r\n        boxSizing:'border-box',\r\n        width:'100%',\r\n        margin: theme.spacing(2),\r\n        display: 'flex',\r\n        justifyContent:'space-between',\r\n    },\r\n    details: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems:'center'\r\n    },\r\n    content: {\r\n        flex: '1 0 auto',\r\n    },\r\n    cover: {\r\n        width: '240px',\r\n        height:'310px',\r\n        objectFit:'cover'\r\n    },\r\n    controls: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        paddingLeft: theme.spacing(1),\r\n        paddingBottom: theme.spacing(1),\r\n    },\r\n    playIcon: {\r\n        height: 38,\r\n        width: 38,\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n      },\r\n      paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        position:'relative'\r\n      },\r\n      close_button:{\r\n          position:'absolute',\r\n          right:'0.5rem',\r\n          top:'0.5rem'\r\n      },\r\n    //   root: {\r\n    //     width: '100%',\r\n    //     backgroundColor: theme.palette.background.paper,\r\n    //   },\r\n      pagination_button:{\r\n        display:\"flex\",\r\n        justifyContent:\"center\",\r\n        padding:'15px'\r\n      },\r\n      pagination_page:{\r\n        textAlign:'center',\r\n        padding:'15px'\r\n      }\r\n}));\r\n\r\nexport default function MediaControlCard() {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [page, setPage] = useState(1) \r\n    const {data, loading, error} =useQuery(BOOKS,{variables: {page, limit:5}})\r\n    const [downloaded] = useMutation(DOWNLOADED)\r\n    const {data:downloadCount} = useSubscription(SUBSCRIBE_DOWNLOAD)\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    const [numPages, setNumPages] = useState(null)\r\n    const [pageNumber, setPageNumber] = useState(1)\r\n\r\n    function onDocumentLoadSuccess({ numPages }) {\r\n        setNumPages(numPages);\r\n      }\r\n  \r\n//    console.log((data&&data.records))\r\n\r\n\r\n\r\n  return (\r\n        <Grid className={classes.container} container>\r\n            {\r\n                !(data&&data.records) ?\r\n                   <></>\r\n                :\r\n                data.records.map((element, index)=>\r\n                    <List width=\"100%\" className={classes.root} key={index}>\r\n                        <ListItem width=\"100%\">\r\n                            <Card className={classes.root}>\r\n                                <div className={classes.details}>\r\n                                    <CardContent className={classes.content}>\r\n                                        <Typography component=\"h5\" variant=\"h5\">\r\n                                            {element.title}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                            {\"Author: \" + element.creator ||''}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                            {\"Date: \" + element.date ||''}\r\n                                        </Typography>\r\n                                        <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                            {\"Identifier: \" + element.identifier ||''}\r\n                                        </Typography>\r\n                                        {/* <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                            {\"Description: \" + element.description ||''}\r\n                                        </Typography> */}\r\n                                    </CardContent>\r\n                                    <div className={classes.controls}>\r\n                                        <Typography component=\"p\">\r\n                                        \r\n                                            {downloadCount&&element.fileId&&downloadCount.subscribeDownload.file_id===element.fileId.fileId ?\r\n                                                downloadCount.subscribeDownload.count\r\n                                                :\r\n                                                element.countOfDownloads || ''\r\n                                            }\r\n                                        </Typography>\r\n                                        { element.fileId ?\r\n                                        <a download href={\"http://localhost:5000/\"+ element.fileId.filename} target=\"_blank\" >\r\n                                            <IconButton \r\n                                            onClick={()=>{downloaded({variables:{fileId:element.fileId.fileId}})}}\r\n                                            tabIndex={-1} >\r\n                                                <GetApp className={classes.playIcon}/>\r\n                                            </IconButton>\r\n                                        </a>:\r\n                                        \"doesn't have full text\"\r\n                                        }\r\n                                        <IconButton  onClick={handleOpen}>\r\n                                            <Visibility className={classes.playIcon}/>\r\n                                        </IconButton>\r\n                                        <Modal\r\n                                            aria-labelledby=\"transition-modal-title\"\r\n                                            aria-describedby=\"transition-modal-description\"\r\n                                            className={classes.modal}\r\n                                            open={open}\r\n                                            onClose={handleClose}\r\n                                            closeAfterTransition\r\n                                            BackdropComponent={Backdrop}\r\n                                            BackdropProps={{\r\n                                            timeout: 500,\r\n                                            }}\r\n                                        >\r\n                                            <Fade in={open}>\r\n                                                <div className={classes.paper}>\r\n                                                    <IconButton onClick={handleClose}className={classes.close_button}>\r\n                                                        <Close/>\r\n                                                    </IconButton>\r\n                                                        <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                                                            {\"Description: \" + element.description ||''}\r\n                                                        </Typography> \r\n                                                </div>\r\n                                            </Fade>\r\n                                        </Modal>\r\n                                    \r\n                                    </div>\r\n                                </div>\r\n                            {element.imageId?\r\n                                <CardMedia\r\n                                    className='book-cover-image'\r\n                                    image={\"http://localhost:5000/\"+ element.imageId.filename}\r\n                                    title={element.imageId.filename}\r\n                                />:\r\n                                <CardMedia\r\n                                    className={classes.cover}\r\n                                    image={Cover}\r\n                                    title=\"unaviable cover\"\r\n                                />\r\n                            }\r\n                            </Card>\r\n                        </ListItem>\r\n                    \r\n                    </List> )\r\n                }   \r\n                   <ButtonGroup className={classes.pagination_button} disableElevation variant=\"contained\" color=\"primary\">\r\n                            <Button disabled={page===1? true :false} onClick = {()=>setPage(page-1)}>\r\n\t\t\t\t\t\t\t\t<ArrowBackIos/>\r\n\t\t\t\t\t\t\t</Button>\r\n                                <Typography className={classes.pagination_page} p={2}>{page}</Typography>\r\n                            <Button disabled={ data&&data.records.length < 5 ? true:false} onClick = {()=>setPage(page+1)} >\r\n\t\t\t\t\t\t\t\t<ArrowForwardIos/>\r\n\t\t\t\t\t\t\t</Button>\r\n                    </ButtonGroup>          \r\n            </Grid>\r\n        )\r\n    }     \r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport MobileStepper from '@material-ui/core/MobileStepper';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport SwipeableViews from 'react-swipeable-views';\r\nimport { autoPlay } from 'react-swipeable-views-utils';\r\nimport {useQuery} from '@apollo/client'\r\nimport {MOST_DOWNLOADED} from '../../Graphql/Queries'\r\nimport {Link} from 'react-router-dom'\r\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\r\n\r\nconst tutorialSteps = [\r\n  {\r\n    label: 'San Francisco  Oakland Bay Bridge, United States',\r\n    imgPath:\r\n      'https://images.unsplash.com/photo-1537944434965-cf4679d1a598?auto=format&fit=crop&w=400&h=250&q=60',\r\n  },\r\n  {\r\n    label: 'Bird',\r\n    imgPath:\r\n      'https://images.unsplash.com/photo-1538032746644-0212e812a9e7?auto=format&fit=crop&w=400&h=250&q=60',\r\n  },\r\n  {\r\n    label: 'Bali, Indonesia',\r\n    imgPath:\r\n      'https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&w=400&h=250&q=80',\r\n  },\r\n  {\r\n    label: 'NeONBRAND Digital Marketing, Las Vegas, United States',\r\n    imgPath:\r\n      'https://images.unsplash.com/photo-1518732714860-b62714ce0c59?auto=format&fit=crop&w=400&h=250&q=60',\r\n  },\r\n  {\r\n    label: 'Go, Serbia',\r\n    imgPath:\r\n      'https://images.unsplash.com/photo-1512341689857-198e7e2f3ca8?auto=format&fit=crop&w=400&h=250&q=60',\r\n  },\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    maxWidth: 600,\r\n    flexGrow: 1,\r\n\tmargin:'0 auto'\r\n  },\r\n  header: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height: 50,\r\n    paddingLeft: theme.spacing(4),\r\n    backgroundColor: theme.palette.background.default,\r\n  },\r\n  img: {\r\n    height: 355,\r\n    display: 'block',\r\n    maxWidth: 600,\r\n    overflow: 'hidden',\r\n    width: '100%',\r\n  },\r\n  card: {\r\n    display: 'flex',\r\n\tmargin:'20px 20px'\r\n  },\r\n  cardDetails: {\r\n    flex: 1,\r\n  },\r\n  cardMedia: {\r\n    width: 260,\r\n  },\r\n  mainFeaturedPost: {\r\n    position: 'relative',\r\n    backgroundColor: theme.palette.grey[800],\r\n    color: theme.palette.common.white,\r\n    marginBottom: theme.spacing(4),\r\n    backgroundImage: 'url(https://source.unsplash.com/random)',\r\n    backgroundSize: 'cover',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundPosition: 'center',\r\n  },\r\n  overlay: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n    left: 0,\r\n    backgroundColor: 'rgba(0,0,0,.3)',\r\n  },\r\n  mainFeaturedPostContent: {\r\n    position: 'relative',\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.up('md')]: {\r\n      padding: theme.spacing(6),\r\n      paddingRight: 0,\r\n    },\r\n  },\r\n}));\r\n\r\nexport default ()=> {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconst [activeStep, setActiveStep] = React.useState(0);\r\n\tconst maxSteps = tutorialSteps.length;\r\n\tconst {data} = useQuery(MOST_DOWNLOADED)\r\n\tconst handleNext = () => {\r\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n\t};\r\n\r\n\tconst handleBack = () => {\r\n\t\tsetActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n\t};\r\n\r\n\tconst handleStepChange = (step) => {\r\n\t\tsetActiveStep(step);\r\n\t};\r\n\t// console.log(data.mostDownloaded)\r\n\r\n  return (<>\r\n\t<Paper className={classes.mainFeaturedPost} style={{ backgroundImage: `url(https://static.toiimg.com/photo/80507427.cms)` }}>\r\n      {/* Increase the priority of the hero background image */}\r\n      {<img style={{ display: 'none' }} src=\"https://nccde.org/ImageRepository/Document?documentID=25042\" alt=\"image\" />}\r\n      <div className={classes.overlay} />\r\n      <Grid container>\r\n        <Grid item md={6}>\r\n          <div className={classes.mainFeaturedPostContent}>\r\n            <Typography component=\"h1\" variant=\"h3\" color=\"inherit\" gutterBottom>\r\n\t\t\t\tVirtual Service of Library \r\n            </Typography>\r\n            <Typography variant=\"h5\" color=\"inherit\" paragraph>\r\n\t\t\t\tOne of the service is ask a librarian. You can easily send your question to the librarian with our service.\r\n            </Typography>\r\n            {/* <Link variant=\"subtitle1\" href=\"#\"> */}\r\n\t\t\t\tAsk a librarian\r\n            {/* </Link> */}\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n\t<Typography element = 'h2' variant=\"h2\" text='center' > The most readed</Typography>\r\n\t<Grid container display=\"flex\">\r\n\t\t{\r\n\t\t\tdata&&data.mostDownloaded ?\r\n\t\t\tdata.mostDownloaded.map((element, index)=>\r\n\t\t\t<Grid item xs={12} md={6} key={index}>\r\n\t\t\t\t<CardActionArea component=\"a\" href=\"#\">\r\n\t\t\t\t\t<Card className={classes.card}>\r\n\t\t\t\t\t\t<div className={classes.cardDetails}>\r\n\t\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t\t<Typography component=\"h2\" variant=\"h5\">\r\n\t\t\t\t\t\t\t\t\t{element.title}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n\t\t\t\t\t\t\t\t\t{element.date||\"2011\"}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" paragraph>\r\n\t\t\t\t\t\t\t\t\t{element.description}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" color=\"primary\">\r\n\t\t\t\t\t\t\t\t\t<Link to='list'>\r\n\t\t\t\t\t\t\t\t\t\tview all\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Hidden xsDown>\r\n\t\t\t\t\t\t\t<CardMedia className={classes.cardMedia} image={\"http://localhost:5000/\"+element.imageId.filename }title=\"image for title\" imageTitle=\"image\" />\r\n\t\t\t\t\t\t</Hidden>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</CardActionArea>\r\n\t\t\t</Grid>\r\n\t\t\t)\r\n\t\t:\r\n\t\t<></>\r\n\r\n\t\t}\r\n\t\t\r\n\t</Grid>\r\n    <div className={classes.root}>\r\n\t\t<Paper square elevation={0} className={classes.header}>\r\n\t\t\t<Typography>{tutorialSteps[activeStep].label}</Typography>\r\n\t\t</Paper>\r\n\t\t<AutoPlaySwipeableViews\r\n\t\t\taxis={theme.direction === 'rtl' ? 'x-reverse' : 'x'}\r\n\t\t\tindex={activeStep}\r\n\t\t\tonChangeIndex={handleStepChange}\r\n\t\t\tenableMouseEvents\r\n\t\t>\r\n\t\t\t{tutorialSteps.map((step, index) => (\r\n\t\t\t<div key={step.label}>\r\n\t\t\t\t{Math.abs(activeStep - index) <= 2 ? (\r\n\t\t\t\t<img className={classes.img} src={step.imgPath} alt={step.label} />\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</AutoPlaySwipeableViews>\r\n\t\t<MobileStepper\r\n\t\t\tsteps={maxSteps}\r\n\t\t\tposition=\"static\"\r\n\t\t\tvariant=\"text\"\r\n\t\t\tactiveStep={activeStep}\r\n\t\t\tnextButton={\r\n\t\t\t<Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1}>\r\n\t\t\t\tNext\r\n\t\t\t\t{theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n\t\t\t</Button>\r\n\t\t\t}\r\n\t\t\tbackButton={\r\n\t\t\t<Button size=\"small\" onClick={handleBack} disabled={activeStep === 0}>\r\n\t\t\t\t{theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n\t\t\t\tBack\r\n\t\t\t</Button>\r\n\t\t\t}\r\n\t\t/>\r\n    </div>\r\n\t</>\r\n  );\r\n}\r\n\r\n// export default SwipeableTextMobileStepper;\r\n// export default ()=>{\r\n//   return<>Hello</>\r\n// }","import './App.css';\n// import News from './Components/News'\nimport Librarian from './Components/Librarian'\nimport {Redirect, Route,Switch} from 'react-router-dom'\nimport Reader from './Components/ReaderProfile/ReaderHome'\nimport CreateBook from './Components/CreateBook'\nimport Books from './Components/BooksList'\nimport Article from './Components/Article'\nimport { useState } from 'react';\nimport {useUser } from './Hooks/User'\nfunction App() {\n\tconst [user] = useUser(false)\n  return (\n    <Switch>\n      \n        <Route exact path='/'><Article/></Route>\n        <Route exact path='/reader'>\n\t\t\t{\n\t\t\t\tparseInt(user.userType)=== 3 ?\n\t\t\t\t\t<Reader/>:\n\t\t\t\t\t<Redirect to=\"/\"/>\n\t\t\t}\n\t\t</Route>\n        <Route exact path='/librarian'>\n\t\t\t{\n\t\t\t\tparseInt(user.userType) === 2 ?\n\t\t\t\t\t<Librarian/>:\n\t\t\t\t\t<Redirect to=\"/\"/>\n\t\t\t}\n\t\t\t\n\t\t</Route>\n        <Route exact path='/books'><CreateBook/></Route>\n        <Route exact path='/list'><Books/></Route>\n    </Switch>\n  );\n}\n\nexport default App;\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport PropTypes from 'prop-types';\r\nimport NumberFormat from 'react-number-format';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Select from '@material-ui/core/Select';\r\nimport {READER_LIB_DATA} from'../../Graphql/Queries'\r\nimport {CREATE_LIBRARIAN, CREATE_READER} from'../../Graphql/Mutation'\r\nimport {useQuery, useMutation} from'@apollo/client'\r\nimport {setUser, useUser} from '../../Hooks/User'\r\nimport{LOGIN_READER} from '../../Graphql/Mutation'\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\n  function NumberFormatCustom(props) {\r\n    const { inputRef, onChange, ...other } = props;\r\n  \r\n    return (\r\n      <NumberFormat\r\n        {...other}\r\n        getInputRef={inputRef}\r\n        onValueChange={(values) => {\r\n          onChange({\r\n            target: {\r\n              name: props.name,\r\n              value: values.value,\r\n            },\r\n          });\r\n        }}\r\n        thousandSeparator\r\n        isNumericString\r\n        prefix=\"$\"\r\n      />\r\n    );\r\n  }\r\n  \r\n  NumberFormatCustom.propTypes = {\r\n        inputRef: PropTypes.func.isRequired,\r\n        name: PropTypes.string.isRequired,\r\n        onChange: PropTypes.func.isRequired,\r\n  };\r\n  \r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', \r\n    marginTop: theme.spacing(3),\r\n  }\r\n}));\r\n\r\nexport default function SignUp() {\r\n    const classes = useStyles();\r\n\tconst [logIn, setLogin] = useState(false)\r\n    const username  = useRef()\r\n    const usernameLogin  = useRef()\r\n    const password= useRef()\r\n    const passwordLogin= useRef()\r\n    const email = useRef()\r\n    const firstName = useRef()\r\n    const lastName = useRef()\r\n    const [value, setValue] = useState(\"3\");\r\n    const[setUser] =useUser(true)\r\n    const [values, setValues] = useState({\r\n        textmask: '(998)',\r\n        numberformat: '1320',\r\n    });\r\n    const [role, setRole] = useState('');\r\n    const [lib, setLib] = useState('')\r\n    const phoneChange = (event) => {\r\n        setValues({\r\n        ...values,\r\n        [event.target.name]: event.target.value,\r\n        });\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        setValue(event.target.value);\r\n    };\r\n    const roleChange = (event) => {\r\n        setRole(event.target.value);\r\n      };\r\n    const libChange = (event) => {\r\n        setLib(event.target.value);\r\n      };\r\n    //   Mutation and Query \r\n    const { loading:lib_loading,  data:lib_data } = useQuery(READER_LIB_DATA);\r\n    const [addLibrarian, {data:librarian_data, error:create_lib_error}] = useMutation(CREATE_LIBRARIAN)\r\n    const [addReader,{data:reader_data,error:create_reader_error}] = useMutation(CREATE_READER)\r\n\tconst [ logInReader, { data:reader_login_data }] = useMutation(LOGIN_READER)\r\n    const [err, setError] = useState('')\r\n            // localStorage.setItem('readerId', reader_login_data.loginReader.data.reader_id)\r\n\t\t\tconsole.log(reader_login_data&&reader_login_data.loginReader.data)\r\n    useEffect(()=>{\r\n        if(create_lib_error) setError(create_lib_error)\r\n        else if(create_reader_error) setError(create_reader_error)\r\n        else if(reader_data&&reader_data.addReader.status!==200 ) setError(reader_data.addReader.message) \r\n\t\telse if(reader_login_data&&reader_login_data.loginReader.status!==200) setError(reader_login_data.loginReader.message) \r\n        else if(librarian_data&&librarian_data.addLibrarian.status!==200) setError(librarian_data.addLibrarian.message)\r\n        else if(reader_data&&reader_data.addReader.status===200) {\r\n\r\n            setError('')\r\n\r\n            localStorage.setItem('token',  reader_data.addReader.token)\r\n            localStorage.setItem('usertype',  reader_data.addReader.data.user_status)\r\n            localStorage.setItem('readerId', reader_data.addReader.data[0].reader_id)\r\n\r\n            setUser({token:reader_data.addReader.token,\r\n                userType:reader_data.addReader.data.user_status,\r\n                id:reader_data.addReader.data[0].reader_id})\r\n        }\r\n\t\telse if(reader_login_data&&reader_login_data.loginReader.status ===200) {\r\n\r\n            setError('')\r\n\r\n            localStorage.setItem('token',  reader_login_data.loginReader.token)\r\n            localStorage.setItem('usertype',  reader_login_data.loginReader.data.user_status)\r\n            localStorage.setItem('readerId', reader_login_data.loginReader.data.reader_id)\r\n\r\n            setUser({token:reader_login_data.loginReader.token,\r\n                userType:reader_login_data.loginReader.data.user_status,\r\n                id:reader_login_data.loginReader.reader_id})\r\n        }\r\n        else if(librarian_data&&librarian_data.addLibrarian.status===200) {\r\n            setError('')\r\n            localStorage.setItem('token', librarian_data.addLibrarian.token)\r\n            localStorage.setItem('usertype', librarian_data.addLibrarian.data.user_status)\r\n            localStorage.setItem('librarianId', librarian_data.addLibrarian.data.librarian_id)\r\n            setUser({token:librarian_data.addLibrarian.token,\r\n                userType:librarian_data.addLibrarian.data.user_status,\r\n                id:librarian_data.addLibrarian.data.librarian_id})\r\n        }\r\n\r\n    },[create_lib_error,create_reader_error, librarian_data, reader_data, reader_login_data])\r\n\r\n\tconst loginUser = (e)=>{\r\n\t\te.preventDefault()\r\n\t\t// console.log(usernameLogin.current, passwordLogin.current)\r\n\t\tif(value===\"3\"&&logIn===true){\r\n\t\t\t\r\n\t\t\tlogInReader({\r\n\t\t\t\tvariables:{\r\n\t\t\t\t\tusername:usernameLogin.current.childNodes[1].childNodes[0].value,\r\n                    password:passwordLogin.current.childNodes[1].childNodes[0].value,\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n    const createUser = (e)=>{\r\n        e.preventDefault()\r\n\r\n        if(value===\"3\"&&logIn===false){\r\n           try{\r\n            addReader({ variables:{\r\n                username:username.current.childNodes[1].childNodes[0].value,\r\n                password:password.current.childNodes[1].childNodes[0].value,\r\n                readerEmail: email.current.childNodes[1].childNodes[0].value||null,\r\n                readerRole: role||null,\r\n                readerPhone: values.textmask||null\r\n                }\r\n            })\r\n           }\r\n           catch (err){\r\n               setError(err.message)\r\n           }\r\n        }\r\n        else if(value===\"2\"&&logIn===false){\r\n            try{\r\n                if(username.current.childNodes[1].childNodes[0].value&&password.current.childNodes[1].childNodes[0].value&&firstName.current.childNodes[1].childNodes[0].value&&lastName.current.childNodes[1].childNodes[0].value&&values.textmask){\r\n                    addLibrarian({variables:{\r\n                      username:username.current.childNodes[1].childNodes[0].value,\r\n                      password:password.current.childNodes[1].childNodes[0].value,\r\n                      firstName:firstName.current.childNodes[1].childNodes[0].value,\r\n                      lastName:lastName.current.childNodes[1].childNodes[0].value,\r\n                      librarianPhone:values.textmask,\r\n                      library:lib||null\r\n                  }})\r\n                    setError(\"\")\r\n                }\r\n                else{\r\n                  setError(\"fill required fields\")\r\n                }\r\n            }\r\n            catch(err){\r\n                console.log(err)\r\n                setError(err.message)\r\n            }\r\n        }\r\n\t\t\r\n      \r\n    }\r\n\treturn (<>\r\n\t\t{\r\n\t\t\t!logIn ?\r\n\t\t\t\t<Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{err? <div className=\"login-error\">{err}</div>: <></>}\r\n\t\t\t\t\t\t\t<form className={classes.form} autoComplete=\"off\" onSubmit={e=>e.preventDefault()} >\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tref={username}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tref={password}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"                    \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<FormLabel component=\"legend\">Login as:</FormLabel>\r\n\t\t\t\t\t\t\t\t\t\t<RadioGroup aria-label=\"gender\" name=\"gender1\" value={value} required onChange={handleChange}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"3\" control={<Radio />} label=\"Reader\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"2\" control={<Radio />} label=\"Librarian\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"1\" disabled control={<Radio />} label=\"Admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvalue===\"2\"? \r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"fname\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"firstName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={firstName}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"First Name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={lastName}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Last Name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"lastName\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"lname\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={lib}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={libChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<em>None</em>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlib_data&&lib_data.lib ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlib_data.lib.map((element, index)=>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={element.libraryId}>{element.libraryName}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:null\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>Library</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t\t</>:<>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={email}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Email Address\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControl className={classes.formControl}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-autowidth-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={role}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={roleChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<em>None</em>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlib_data&&lib_data.readerRoles ? \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlib_data.readerRoles.map((element, index)=>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={index} value={element.roleId}>{element.roleName}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:null\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormHelperText>Reader Role</FormHelperText>\r\n\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"formatted-text-mask-input\">phone number</InputLabel>\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\tvalue={values.textmask}\r\n\t\t\t\t\t\t\t\t\tonChange={phoneChange}\r\n\t\t\t\t\t\t\t\t\tname=\"textmask\"\r\n\t\t\t\t\t\t\t\t\tid=\"formatted-text-mask-input\"\r\n\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t\t\tonClick={createUser}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSign Up\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t\t<Button onClick={()=>setLogin(true)} variant=\"body2\">\r\n\t\t\t\t\t\t\t\t\t\tAlready have an account? Sign in\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Box mt={5}>\r\n\t\t\t\t\t<Copyright />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Container>:\r\n\t\t\t\t <Container component=\"main\" maxWidth=\"xs\">\r\n\t\t\t\t\t<CssBaseline />\r\n\t\t\t\t\t<div className={classes.paper}>\r\n\t\t\t\t\t\t<Avatar className={classes.avatar}>\r\n\t\t\t\t\t\t\t<LockOutlinedIcon />\r\n\t\t\t\t\t\t</Avatar>\r\n\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\r\n\t\t\t\t\t\t\tSign in\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t{err? <div className=\"login-error\">{err}</div>: <></>}\r\n\t\t\t\t\t\t\t<form className={classes.form} autoComplete=\"off\" onSubmit={e=>e.preventDefault()} >\r\n\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} sm={12}>\r\n\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tref={usernameLogin}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Username\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tref={passwordLogin}\r\n\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Password\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"                    \r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\r\n\t\t\t\t\t\t\t\t\t<FormControl>\r\n\t\t\t\t\t\t\t\t\t\t<FormLabel component=\"legend\">Login as:</FormLabel>\r\n\t\t\t\t\t\t\t\t\t\t<RadioGroup aria-label=\"gender\" name=\"gender1\" value={value} required onChange={handleChange}>\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"3\" control={<Radio />} label=\"Reader\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"2\" control={<Radio />} label=\"Librarian\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<FormControlLabel value=\"1\" control={<Radio />} label=\"Admin\" />\r\n\t\t\t\t\t\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tclassName={classes.submit}\r\n\t\t\t\t\t\t\t\tonClick={loginUser}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\r\n\t\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<Button onClick={()=>setLogin(false)}>\r\n\t\t\t\t\t\t\t\t\t Sign up \r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Box mt={5}>\r\n\t\t\t\t\t<Copyright />\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Container>\r\n\t\t}\r\n\r\n\t\r\n\t</>);\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Form from './Login'\r\nexport default function ScrollDialog() {\r\n  const [open, setOpen] = React.useState(false);\r\n  const [scroll, setScroll] = React.useState('paper');\r\n\r\n  const handleClickOpen = (scrollType) => () => {\r\n    setOpen(true);\r\n    setScroll(scrollType);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const descriptionElementRef = React.useRef(null);\r\n  React.useEffect(() => {\r\n    if (open) {\r\n      const { current: descriptionElement } = descriptionElementRef;\r\n      if (descriptionElement !== null) {\r\n        descriptionElement.focus();\r\n      }\r\n    }\r\n  }, [open]);\r\n\r\n  return (\r\n    <div>\r\n\t\t<Button className=\"login-button\" onClick={handleClickOpen('body')}>login</Button>\r\n\t\t<Dialog\r\n\t\t\topen={open}\r\n\t\t\tonClose={handleClose}\r\n\t\t\tscroll={scroll}\r\n\t\t\taria-labelledby=\"scroll-dialog-title\"\r\n\t\t\taria-describedby=\"scroll-dialog-description\"\r\n\t\t>\r\n\t\t\r\n\t\t\t<Form/>\r\n\t\t</Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Link } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nexport default function PrimarySearchAppBar({data}) {\r\n  const classes = useStyles();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n    \r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  const handleProfileMenuOpen = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMobileMenuClose = () => {\r\n    setMobileMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  };\r\n\r\n  const handleMobileMenuOpen = (event) => {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  };\r\n  const logOut = ()=>{\r\n    window.localStorage.removeItem('usertype')\r\n    window.localStorage.removeItem('token')\r\n    window.localStorage.removeItem('readerId')\r\n    window.location.reload(false);\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n\r\n  }\r\n  const menuId = 'primary-search-account-menu';\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={menuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <MenuItem onClick={handleMenuClose}>Profile</MenuItem>\r\n      <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n      <MenuItem onClick={logOut}>Log Out</MenuItem>\r\n\r\n    </Menu>\r\n  );\r\n\r\n  const mobileMenuId = 'primary-search-account-menu-mobile';\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      id={mobileMenuId}\r\n      keepMounted\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      <MenuItem>\r\n        <IconButton aria-label=\"show 4 new mails\" color=\"inherit\">\r\n          <Badge badgeContent={data.readerUnread.length?data.readerUnread.length:null}   color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"account of current user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton\r\n          aria-label=\"log out user\"\r\n          aria-controls=\"primary-search-account-menu\"\r\n          aria-haspopup=\"true\"\r\n          color=\"inherit\"\r\n          onClick={logOut}\r\n        >\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Log out</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div >\r\n        <Toolbar>\r\n            <div className={classes.grow} />\r\n            <div className={classes.sectionDesktop}>\r\n                <Link className=\"reader-message-link\" href=\"reader\" color=\"inherit\">\r\n                    <IconButton color=\"inherit\">\r\n                        <Badge badgeContent={data.readerUnread.length?data.readerUnread.length:null} color=\"secondary\">\r\n                            <MailIcon />\r\n                        </Badge>\r\n                    </IconButton>\r\n                </Link>\r\n                <IconButton\r\n                    edge=\"end\"\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls={menuId}\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleProfileMenuOpen}\r\n                    color=\"inherit\"\r\n                >\r\n                    <AccountCircle />\r\n                </IconButton>\r\n            </div>\r\n            <div className={classes.sectionMobile}>\r\n                <IconButton\r\n                aria-label=\"show more\"\r\n                aria-controls={mobileMenuId}\r\n                aria-haspopup=\"true\"\r\n                onClick={handleMobileMenuOpen}\r\n                color=\"inherit\"\r\n                >\r\n                    <MoreIcon />\r\n                </IconButton>\r\n            </div>\r\n        </Toolbar>\r\n      \r\n      {renderMobileMenu}\r\n      {renderMenu}\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect, useState} from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\r\nimport MailIcon from '@material-ui/icons/Mail';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Login from '../Login/'\r\nimport {useUser} from '../../Hooks/User'\r\nimport {useQuery} from'@apollo/client'\r\nimport {UNREADED_ANSWERS, LIBRARIAN} from '../../Graphql/Queries'\r\nimport ReaderNav from '../ReaderProfile/ReaderNav'\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport {Link} from 'react-router-dom'\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tdisplay: 'flex',\r\n\t},\r\n\tappBar: {\r\n\t\ttransition: theme.transitions.create(['margin', 'width'], {\r\n\t\teasing: theme.transitions.easing.sharp,\r\n\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t\t}),\r\n\t},\r\n\tappBarShift: {\r\n\t\twidth: `calc(100% - ${drawerWidth}px)`,\r\n\t\tmarginLeft: drawerWidth,\r\n\t\ttransition: theme.transitions.create(['margin', 'width'], {\r\n\t\teasing: theme.transitions.easing.easeOut,\r\n\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t},\r\n\tmenuButton: {\r\n\t\tmarginRight: theme.spacing(2),\r\n\t},\r\n\thide: {\r\n\t\tdisplay: 'none',\r\n\t\tpadding:0\r\n\t},\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tdrawerPaper: {\r\n\t\twidth: drawerWidth,\r\n\t},\r\n\tdrawerHeader: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t\tpadding: theme.spacing(0, 1),\r\n\t\t// necessary for content to be below app bar\r\n\t\t...theme.mixins.toolbar,\r\n\t\tjustifyContent: 'flex-end',\r\n\t},\r\n\tcontent: {\r\n\t\tflexGrow: 1,\r\n\t\t// padding: theme.spacing(3),\r\n\t\ttransition: theme.transitions.create('margin', {\r\n\t\teasing: theme.transitions.easing.sharp,\r\n\t\tduration: theme.transitions.duration.leavingScreen,\r\n\t\t}),\r\n\t\tmarginLeft: -drawerWidth,\r\n\t},\r\n\tcontentShift: {\r\n\t\ttransition: theme.transitions.create('margin', {\r\n\t\teasing: theme.transitions.easing.easeOut,\r\n\t\tduration: theme.transitions.duration.enteringScreen,\r\n\t\t}),\r\n\t\tmarginLeft: 0,\r\n\t},\r\n\tlist_link:{\r\n\t\tcolor:'inherit',\r\n\t\ttextDecoration:'none'\r\n\t},\r\n\tgrow: {\r\n\t\tflexGrow: 1,\r\n\t  },\r\n\t}))\r\n\r\nconst ReaderElement = (user)=>{\r\n\t\tconst classes = useStyles();\r\n\t\tconst { loading, error, data } = useQuery(UNREADED_ANSWERS, { variables:{\r\n\t\t\t\treaderId:parseInt(user.id)||(user.reader?user.reader.reader_id:null)\r\n\t\t\t}})\r\n\r\n  \treturn(\r\n\t\t  <>\r\n\t\t  \t   {\r\n\t\t\t\t  loading ? (\r\n\t\t\t\t\t\t<Backdrop className={classes.backdrop} open={true}  >\r\n\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t\t\t\t\t</Backdrop>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t: \r\n\t\t\t\t data  ?\r\n                    <ReaderNav data={data} />\r\n                                :\r\n                    <Button color=\"inherit\"><Login/></Button>\r\n                } \r\n\t\t  </>\r\n\t  )\r\n}\r\n\r\nconst LibrarianElement = (user)=>{\r\n\tconst classes = useStyles();\r\n\tconst { loading, data } = useQuery(LIBRARIAN, {variables:{librarianId:parseInt(user.user.id)}})\r\n\tconst logOut =()=>{\r\n\t\twindow.localStorage.removeItem('token')\r\n\t\twindow.localStorage.removeItem('usertype')\r\n\t\twindow.localStorage.removeItem('librarianId')\r\n\t\twindow.location.reload();\r\n\t}\r\n  \treturn(\r\n\t\t  <>\r\n        \t{\tloading ? (\r\n               \t<Backdrop className={classes.backdrop} open={true}  >\r\n                \t<CircularProgress color=\"inherit\" />\r\n              \t</Backdrop>\r\n            )\r\n                :\r\n\t\t  \t   data  ?\r\n                    <>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.librarians[0].firstName + \" \"+ data.librarians[0].lastName\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t<Button color=\"inherit\" onClick={logOut}>\r\n\t\t\t\t\t\t\t<Link to='/' className={classes.list_link} replace>\r\n\t\t\t\t\t\t\t\tLog out\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n                                :\r\n\t\t\t\t\t<Button color=\"inherit\"><Login/></Button>\r\n                \r\n\t\t\t}\r\n\t\t  </>\r\n\t  )\r\n}\r\nexport default function PersistentDrawerLeft() {\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconst [open, setOpen] = useState(false);\r\n\tconst [user] = useUser(false)\r\n\r\n\tconst handleDrawerOpen = () => {\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleDrawerClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: open,\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, open && classes.hide)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\" noWrap>\r\n\t\t\t\tLibUz\r\n          </Typography>\r\n\t\t  <div className={classes.grow} />\r\n\t\t  \t{\r\n\t\t\t\tuser&&parseInt(user.userType)===2?\r\n\r\n\t\t\t\t\t<LibrarianElement user={user}/>\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\tuser&&parseInt(user.userType)===3?\r\n\r\n\t\t\t\t\t<ReaderElement user={user} />\r\n\t\t\t\t:\r\n\t\t\t\t\t<Button color=\"inherit\"><Login/></Button>\r\n\t\t\t}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        variant=\"persistent\"\r\n        anchor=\"left\"\r\n        open={open}\r\n        classes={{\r\n          paper: classes.drawerPaper,\r\n        }}\r\n      >\r\n        <div className={classes.drawerHeader}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n\t\t\t<Link to='list' className={classes.list_link} replace>\r\n\t\t\t\t<ListItem button >\r\n\t\t\t\t\t<ListItemIcon> <InboxIcon /> </ListItemIcon>\r\n\t\t\t\t\t<ListItemText primary=\"Books\" />\r\n\t\t\t\t</ListItem>\r\n\t\t\t</Link>\r\n\t\t\t{\r\n\t\t\t\tuser&&parseInt(user.userType)===3?\r\n\r\n\t\t\t\t\r\n\t\t\t\t\t<Link to = \"reader\" className={classes.list_link} replace>\r\n\t\t\t\t\t\t<ListItem button >\r\n\t\t\t\t\t\t\t<ListItemIcon> <MailIcon /> </ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary=\"Ask a librarian\" />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t<></>\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tuser&&parseInt(user.userType)===2?\r\n\r\n\t\t\t\t\r\n\t\t\t\t\t<Link to=\"books\" className={classes.list_link} replace = {true}>\r\n\t\t\t\t\t\t<ListItem button  >\r\n\t\t\t\t\t\t\t<ListItemIcon> <InboxIcon /> </ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary=\"Create new Bibliographic Record\" />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t<></>\r\n\t\t\t}\r\n\t\t\t{\r\n\t\t\t\tuser&&parseInt(user.userType)===2?\r\n\r\n\t\t\t\t\r\n\t\t\t\t\t<Link to=\"librarian\" className={classes.list_link} replace={true}>\r\n\t\t\t\t\t\t<ListItem button >\r\n\t\t\t\t\t\t\t<ListItemIcon> <MailIcon /> </ListItemIcon>\r\n\t\t\t\t\t\t\t<ListItemText primary=\"Answer to readers questions\" />\r\n\t\t\t\t\t\t</ListItem>\r\n\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\r\n\t\t\t\t:\r\n\t\t\t\t<></>\r\n\t\t\t}\r\n\t\t\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          {['About us', 'About Project', 'News'].map((text, index) => (\r\n            <ListItem button key={text}>\r\n              <ListItemIcon>{index % 2 === 0 ? <InboxIcon /> : <MailIcon />}</ListItemIcon>\r\n              <ListItemText primary={text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Drawer>\r\n      <main\r\n        className={clsx(classes.content, {\r\n          [classes.contentShift]: open,\r\n        })}\r\n      >\r\n        <div className={classes.drawerHeader} />\r\n\t\t\t\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {BrowserRouter} from 'react-router-dom'\nimport {ApolloClient, ApolloProvider, InMemoryCache,  split, HttpLink, ApolloLink} from '@apollo/client'\nimport { getMainDefinition } from '@apollo/client/utilities';\nimport {UserProvider} from './Hooks/User'\nimport {RoomProvider} from './Hooks/NewRoom'\nimport { WebSocketLink } from '@apollo/client/link/ws';\nimport { setContext } from '@apollo/client/link/context';\nimport Navbar from './Components/Navbar'\n// uri: process.env.REACT_APP_GRAPHQL_URL\n\nconst httpLink = new HttpLink({\n\turi:'/ill'\n  });\nconst wsLink = new WebSocketLink({\n\turi: '/subscriptions',\n\toptions: {\n\t  reconnect: true\n\t}\n  });\n  const splitLink = split(\n\t({ query }) => {\n\t  const definition = getMainDefinition(query);\n\t  return (\n\t\tdefinition.kind === 'OperationDefinition' &&\n\t\tdefinition.operation === 'subscription'\n\t  );\n\t},\n\twsLink,\n\thttpLink,\n  );\n  const authLink = setContext((_, { headers }) => {\n\treturn {\n\t  headers: {\n\t\t\ttoken: localStorage.getItem('token') || '',\n\t\t\tusertype:localStorage.getItem('usertype') || '',\n\t  }\n\t}\n  });\n\nconst client = new ApolloClient ({\n\tlink:  authLink.concat(splitLink),\n\tcache: new InMemoryCache()\n})\n\nReactDOM.render(\n\t\n\t\t<BrowserRouter>\n\t\t\t<ApolloProvider client={client}>\n\t\t\t\t<UserProvider>\n\t\t\t\t\t\n\t\t\t\t\t\t<Navbar/>\n\t\t\t\t\t\t<RoomProvider>\n\t\t\t\t\t\t\t<App />\n\t\t\t\t\t\t</RoomProvider>\n\t\t\t\t\t\n\t\t\t\t</UserProvider>\n\t\t\t</ApolloProvider>\n\t\t</BrowserRouter>\n\n\t,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}